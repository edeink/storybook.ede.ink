<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>前端架构与工程化：大纲 | Edeink 的精神小屋</title>
    <meta name="description" content="Edeink 的个人博客，记录技术、生活、思考。">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.AF9JW91K.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CSBKFXQC.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.BsEAYNxL.js">
    <link rel="modulepreload" href="/assets/chunks/theme.L3WSsrCo.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/frontend-architecture___outline.md.EX4-aQi1.lean.js">
    <link rel="icon" href="/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body><!--teleport start anchor--><!----><!--teleport anchor-->
    <div id="app"><div class="Layout" data-v-7c996363><!--[--><!--]--><!--[--><span tabindex="-1" data-v-f8ff6769></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-f8ff6769>Skip to content</a><!--]--><!----><header class="VPNav" data-v-7c996363 data-v-e4f1b3b8><div class="VPNavBar" data-v-e4f1b3b8 data-v-407f8ee5><div class="wrapper" data-v-407f8ee5><div class="container" data-v-407f8ee5><div class="title" data-v-407f8ee5><div class="VPNavBarTitle has-sidebar" data-v-407f8ee5 data-v-401acfc6><a class="title" href="/" data-v-401acfc6><!--[--><!--]--><!----><span data-v-401acfc6>Edeink 的精神小屋</span><!--[--><!--]--></a></div></div><div class="content" data-v-407f8ee5><div class="content-body" data-v-407f8ee5><!--[--><!--]--><div class="VPNavBarSearch search" data-v-407f8ee5><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-407f8ee5 data-v-acdce36d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-acdce36d data-v-e48f1741 data-v-d83c4bb5><span class="check" data-v-d83c4bb5><span class="icon" data-v-d83c4bb5><!--[--><span class="vpi-sun sun" data-v-e48f1741></span><span class="vpi-moon moon" data-v-e48f1741></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-407f8ee5 data-v-95cfb84d data-v-039c00c8><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-039c00c8><span class="vpi-more-horizontal icon" data-v-039c00c8></span></button><div class="menu" data-v-039c00c8><div class="VPMenu" data-v-039c00c8 data-v-96a4d834><!----><!--[--><!--[--><!----><div class="group" data-v-95cfb84d><div class="item appearance" data-v-95cfb84d><p class="label" data-v-95cfb84d>Appearance</p><div class="appearance-action" data-v-95cfb84d><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-95cfb84d data-v-e48f1741 data-v-d83c4bb5><span class="check" data-v-d83c4bb5><span class="icon" data-v-d83c4bb5><!--[--><span class="vpi-sun sun" data-v-e48f1741></span><span class="vpi-moon moon" data-v-e48f1741></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-407f8ee5 data-v-5e351786><span class="container" data-v-5e351786><span class="top" data-v-5e351786></span><span class="middle" data-v-5e351786></span><span class="bottom" data-v-5e351786></span></span></button></div></div></div></div><div class="divider" data-v-407f8ee5><div class="divider-line" data-v-407f8ee5></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-7c996363 data-v-374d11bd><div class="container" data-v-374d11bd><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-374d11bd><span class="vpi-align-left menu-icon" data-v-374d11bd></span><span class="menu-text" data-v-374d11bd>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-374d11bd data-v-befdc68d><button data-v-befdc68d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-7c996363 data-v-88f9569f><div class="curtain" data-v-88f9569f></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-88f9569f><span class="visually-hidden" id="sidebar-aria-label" data-v-88f9569f> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-2ca1d00b><section class="VPSidebarItem level-0 collapsible" data-v-2ca1d00b data-v-d5a62271><div class="item" role="button" tabindex="0" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><h2 class="text" data-v-d5a62271>目录</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d5a62271><span class="vpi-chevron-right caret-icon" data-v-d5a62271></span></div></div><div class="items" data-v-d5a62271><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>引序</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-d5a62271 data-v-d5a62271><div class="item" role="button" tabindex="0" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><h3 class="text" data-v-d5a62271>Web 编辑器与协同</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d5a62271><span class="vpi-chevron-right caret-icon" data-v-d5a62271></span></div></div><div class="items" data-v-d5a62271><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/01-editor-architecture" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Web 编辑器：核心架构与“轮点”演进</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/02-collaboration-crdt-ot" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>协同编辑：CRDT vs OT 的工程取舍（以及富文本的坑）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/03-plugin-system" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Web 编辑器插件体系：可扩展、可治理、可兜底</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/04-doc-storage-and-indexes" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Web 编辑器的数据怎么存：Rope、Piece Table、区间树与红黑树</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/05-versioning-and-incremental-sync" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Web 编辑器如何增量提交与版本管理：op log、快照与可回放系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/06-open-source-editors-comparison" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/07-fonts-history-and-secrets" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>字体发展史与字体的秘密：从 OpenType 到编辑器排版管线</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/08-images-history-and-secrets" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/09-layout-algorithms-constraint" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/10-unicode-linebreak-bidi-grapheme" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/11-hit-testing-and-event-system" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>点击测试（Hit Testing）与事件系统：从坐标到交互闭环</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/web-editor/12-rendering-graphics-details" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-d5a62271 data-v-d5a62271><div class="item" role="button" tabindex="0" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><h3 class="text" data-v-d5a62271>浏览器底层与图形渲染</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d5a62271><span class="vpi-chevron-right caret-icon" data-v-d5a62271></span></div></div><div class="items" data-v-d5a62271><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/01-chromium-architecture-processes-and-threads" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Chromium 架构总览：多进程与线程模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/02-blink-lifecycle-style-layout-paint" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Blink 生命周期：style/layout/paint 与无效化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/03-cc-compositor-commit-activate-draw" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>cc 合成体系：两棵树、属性树与同步点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/04-viz-gpu-and-present-to-screen" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Viz/GPU/上屏：surface、buffer 与显示路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/05-input-latency-scroll-and-hit-test" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>输入与滚动：事件路由、命中与延迟下限</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/06-v8-for-frontend-hiddenclass-ic-gc" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>V8 细节（前端视角）：优化、deopt 与 GC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/07-workers-offscreen-canvas-and-transfer-cost" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Worker：收益边界、OffscreenCanvas 与通信成本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/08-performance-tracing-devtools-perfetto" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>可观测：DevTools、Tracing/Perfetto 与归因方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/browser-rendering/09-frontend-levers-css-composite-paint-budget" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>前端对照表：哪些写法对应哪条渲染管线</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-d5a62271 data-v-d5a62271><div class="item" role="button" tabindex="0" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><h3 class="text" data-v-d5a62271>AI 学习与思考笔记</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d5a62271><span class="vpi-chevron-right caret-icon" data-v-d5a62271></span></div></div><div class="items" data-v-d5a62271><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ai-chitchat/01-ai-core-intuition" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>AI 核心直觉：从梯度下降到 Transformer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ai-chitchat/02-diffusion-principle" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>图像生成原理：扩散模型与 Latent Space</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ai-chitchat/03-ecommerce-practice" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>电商实战：AIGC 图文生产与 Agent 落地</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ai-chitchat/04-engineering-paradigm" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>工程范式：AI Coding 研发心法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ai-chitchat/10-day-agent-learning-plan" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>Agent 开发十天冲刺计划：从前端到智能体架构师</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-d5a62271 data-v-d5a62271><div class="item" role="button" tabindex="0" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><h3 class="text" data-v-d5a62271>工作的碎碎念</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d5a62271><span class="vpi-chevron-right caret-icon" data-v-d5a62271></span></div></div><div class="items" data-v-d5a62271><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ten-years/2025-core-plus-plugins" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>为什么重交互产品都长成 Core + Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ten-years/2025-release-patterns" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>四种发版节奏对比</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ten-years/2025-tool-evolution" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>十年回望：从 WebOffice 到 Agent 的工具演进</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d5a62271 data-v-d5a62271><div class="item" data-v-d5a62271><div class="indicator" data-v-d5a62271></div><a class="VPLink link link" href="/ten-years/2025" data-v-d5a62271><!--[--><p class="text" data-v-d5a62271>2025：十年再回首我的工作经历</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-7c996363 data-v-c2b3b7d9><div class="VPDoc has-sidebar has-aside" data-v-c2b3b7d9 data-v-dc2cd82d><!--[--><!--]--><div class="container" data-v-dc2cd82d><div class="aside" data-v-dc2cd82d><div class="aside-curtain" data-v-dc2cd82d></div><div class="aside-container" data-v-dc2cd82d><div class="aside-content" data-v-dc2cd82d><div class="VPDocAside" data-v-dc2cd82d data-v-a82badc9><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-a82badc9 data-v-177983c9><div class="content" data-v-177983c9><div class="outline-marker" data-v-177983c9></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-177983c9>On this page</div><ul class="VPDocOutlineItem root" data-v-177983c9 data-v-657c772b><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-a82badc9></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-dc2cd82d><div class="content-container" data-v-dc2cd82d><!--[--><!--]--><main class="main" data-v-dc2cd82d><div style="position:relative;" class="vp-doc _frontend-architecture___outline" data-v-dc2cd82d><div><blockquote><p>提示：本大纲为 AI 生成草案，仅用于后续写作与总结时的提示与结构对齐，不代表正文已开始撰写。WIP 仅用于标记“正在撰写中”的内容。</p></blockquote><h2 id="_0-范围" tabindex="-1">0. 范围 <a class="header-anchor" href="#_0-范围" aria-label="Permalink to &quot;0. 范围&quot;">​</a></h2><ul><li>目标：把“架构能力”从概念落到可执行的决策与评审体系</li><li>关注：可维护性、可扩展性、稳定性、性能、协作效率、成本与风险</li><li>口径：不谈“架构很牛”，只谈“这个决策为什么值、哪里会翻车、怎么兜底”</li></ul><h2 id="_1-架构从哪来-先定义问题" tabindex="-1">1. 架构从哪来：先定义问题 <a class="header-anchor" href="#_1-架构从哪来-先定义问题" aria-label="Permalink to &quot;1. 架构从哪来：先定义问题&quot;">​</a></h2><h3 id="_1-1-需求口径-先把问题写清楚" tabindex="-1">1.1 需求口径：先把问题写清楚 <a class="header-anchor" href="#_1-1-需求口径-先把问题写清楚" aria-label="Permalink to &quot;1.1 需求口径：先把问题写清楚&quot;">​</a></h3><ul><li>目标：业务目标与用户价值（不是“要一个页面”）</li><li>约束：性能预算、兼容性、合规、交付周期</li><li>风险：最可能翻车的三件事与预案</li><li>指标：怎么衡量成功与失败</li><li>回滚：回滚粒度、回滚策略与演练</li></ul><h3 id="_1-2-分层与边界-复杂度要有收敛点" tabindex="-1">1.2 分层与边界：复杂度要有收敛点 <a class="header-anchor" href="#_1-2-分层与边界-复杂度要有收敛点" aria-label="Permalink to &quot;1.2 分层与边界：复杂度要有收敛点&quot;">​</a></h3><ul><li>领域模型：把业务事实表达成稳定的对象与约束</li><li>数据流：命令、事件与状态的关系</li><li>渲染层：组件只是表现，别把业务塞进组件里</li><li>基础设施：路由、请求、缓存、埋点、日志、权限</li></ul><h2 id="_2-状态管理与数据流" tabindex="-1">2. 状态管理与数据流 <a class="header-anchor" href="#_2-状态管理与数据流" aria-label="Permalink to &quot;2. 状态管理与数据流&quot;">​</a></h2><h3 id="_2-1-状态分类-先区分-事实来源" tabindex="-1">2.1 状态分类：先区分“事实来源” <a class="header-anchor" href="#_2-1-状态分类-先区分-事实来源" aria-label="Permalink to &quot;2.1 状态分类：先区分“事实来源”&quot;">​</a></h3><ul><li>UI 状态：短生命周期、可丢弃、可重算</li><li>领域状态：需要一致性与约束，适合集中管理</li><li>服务端状态：缓存、重试、并发与一致性策略</li></ul><h3 id="_2-2-数据流设计-能回放-才可治理" tabindex="-1">2.2 数据流设计：能回放，才可治理 <a class="header-anchor" href="#_2-2-数据流设计-能回放-才可治理" aria-label="Permalink to &quot;2.2 数据流设计：能回放，才可治理&quot;">​</a></h3><ul><li>命令：意图明确、可校验、可拒绝</li><li>事件：用于通知与观测，不要承载核心逻辑</li><li>回放：把线上问题变成“可复现”而不是“凭感觉”</li></ul><h2 id="_3-组件体系与设计系统" tabindex="-1">3. 组件体系与设计系统 <a class="header-anchor" href="#_3-组件体系与设计系统" aria-label="Permalink to &quot;3. 组件体系与设计系统&quot;">​</a></h2><h3 id="_3-1-复用策略-把-复用-从口号变成成本模型" tabindex="-1">3.1 复用策略：把“复用”从口号变成成本模型 <a class="header-anchor" href="#_3-1-复用策略-把-复用-从口号变成成本模型" aria-label="Permalink to &quot;3.1 复用策略：把“复用”从口号变成成本模型&quot;">​</a></h3><ul><li>工具库：稳定、可测试、低耦合，优先沉到这里</li><li>组件：承载交互与视觉，避免承载业务规则</li><li>hooks：抽离状态与副作用，但要警惕“隐式耦合”</li><li>模板化：对齐结构与约束，降低沟通成本</li></ul><h3 id="_3-2-设计系统-一致性来自约束" tabindex="-1">3.2 设计系统：一致性来自约束 <a class="header-anchor" href="#_3-2-设计系统-一致性来自约束" aria-label="Permalink to &quot;3.2 设计系统：一致性来自约束&quot;">​</a></h3><ul><li>视觉 Token：颜色、字号、间距、暗黑模式</li><li>交互规范：键盘操作、焦点管理、表单验证口径</li><li>a11y/i18n：从设计与组件契约阶段介入，而不是上线前补洞</li></ul><h2 id="_4-工程质量与稳定性" tabindex="-1">4. 工程质量与稳定性 <a class="header-anchor" href="#_4-工程质量与稳定性" aria-label="Permalink to &quot;4. 工程质量与稳定性&quot;">​</a></h2><h3 id="_4-1-测试-覆盖面与成本的平衡" tabindex="-1">4.1 测试：覆盖面与成本的平衡 <a class="header-anchor" href="#_4-1-测试-覆盖面与成本的平衡" aria-label="Permalink to &quot;4.1 测试：覆盖面与成本的平衡&quot;">​</a></h3><ul><li>单测：工具库与核心逻辑优先</li><li>集成：模块边界与关键流程</li><li>E2E：关键链路兜底，避免把测试写成另一个产品</li></ul><h3 id="_4-2-发布与灰度-把线上当成一个受控实验场" tabindex="-1">4.2 发布与灰度：把线上当成一个受控实验场 <a class="header-anchor" href="#_4-2-发布与灰度-把线上当成一个受控实验场" aria-label="Permalink to &quot;4.2 发布与灰度：把线上当成一个受控实验场&quot;">​</a></h3><ul><li>指标：上线前定义、上线后对齐</li><li>报警：触发条件与分级，避免报警疲劳</li><li>回滚：一键回滚、兼容旧数据与降级策略</li></ul><h2 id="_5-性能治理-工程化视角" tabindex="-1">5. 性能治理（工程化视角） <a class="header-anchor" href="#_5-性能治理-工程化视角" aria-label="Permalink to &quot;5. 性能治理（工程化视角）&quot;">​</a></h2><h3 id="_5-1-性能口径与预算-让-快-可衡量" tabindex="-1">5.1 性能口径与预算：让“快”可衡量 <a class="header-anchor" href="#_5-1-性能口径与预算-让-快-可衡量" aria-label="Permalink to &quot;5.1 性能口径与预算：让“快”可衡量&quot;">​</a></h3><ul><li>指标：加载、交互、滚动、内存、长任务</li><li>预算：每类页面/功能有不同预算，超预算必须有原因</li></ul><h3 id="_5-2-防回归-性能是一个系统-不是一次优化" tabindex="-1">5.2 防回归：性能是一个系统，不是一次优化 <a class="header-anchor" href="#_5-2-防回归-性能是一个系统-不是一次优化" aria-label="Permalink to &quot;5.2 防回归：性能是一个系统，不是一次优化&quot;">​</a></h3><ul><li>基准：代表性场景与固定设备口径</li><li>看板：趋势 &gt; 单点；对比 &gt; 绝对值</li><li>机制：变更影响评估、回归门禁与复盘闭环</li></ul><h2 id="_6-拟发布文章方向" tabindex="-1">6. 拟发布文章方向 <a class="header-anchor" href="#_6-拟发布文章方向" aria-label="Permalink to &quot;6. 拟发布文章方向&quot;">​</a></h2><ul><li>架构评审清单：目标/约束/风险/指标/回滚的模板化</li><li>状态与数据流：可回放系统的设计方法</li><li>工程稳定性：从报警到复盘的完整闭环</li><li>性能治理：预算化、门禁化与规模化落地</li></ul></div></div></main><footer class="VPDocFooter" data-v-dc2cd82d data-v-2a4e2a5f><!--[--><!--]--><div class="edit-info" data-v-2a4e2a5f><!----><div class="last-updated" data-v-2a4e2a5f><p class="VPLastUpdated" data-v-2a4e2a5f data-v-aa8e3da1>Last updated: <time datetime="2026-01-21T20:13:49.000Z" data-v-aa8e3da1></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-2a4e2a5f><span class="visually-hidden" id="doc-footer-aria-label" data-v-2a4e2a5f>Pager</span><div class="pager" data-v-2a4e2a5f><!----></div><div class="pager" data-v-2a4e2a5f><a class="VPLink link pager-link next" href="/" data-v-2a4e2a5f><!--[--><span class="desc" data-v-2a4e2a5f>Next page</span><span class="title" data-v-2a4e2a5f>引序</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--[--><!--[--><!--teleport start--><!--teleport end--><!--]--><!--]--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"DK9lSoYB\",\"about.prev.md\":\"sBwrD_PC\",\"about.reference.md\":\"B-kwIUFY\",\"ai-chitchat_01-ai-core-intuition.md\":\"C8I041vN\",\"ai-chitchat_02-diffusion-principle.md\":\"BhjiPAKt\",\"ai-chitchat_03-ecommerce-practice.md\":\"Dc0y2_sN\",\"ai-chitchat_04-engineering-paradigm.md\":\"BlcizYh2\",\"ai-chitchat_10-day-agent-learning-plan.md\":\"k7_riW27\",\"browser-rendering_01-chromium-architecture-processes-and-threads.md\":\"DYHlAl0B\",\"browser-rendering_02-blink-lifecycle-style-layout-paint.md\":\"BIHWlyXU\",\"browser-rendering_03-cc-compositor-commit-activate-draw.md\":\"DuWK3XyG\",\"browser-rendering_04-viz-gpu-and-present-to-screen.md\":\"Bswmn9WQ\",\"browser-rendering_05-input-latency-scroll-and-hit-test.md\":\"Cr3oGFsp\",\"browser-rendering_06-v8-for-frontend-hiddenclass-ic-gc.md\":\"za7aqvzM\",\"browser-rendering_07-workers-offscreen-canvas-and-transfer-cost.md\":\"DnjlFWIh\",\"browser-rendering_08-performance-tracing-devtools-perfetto.md\":\"DDBLUGXK\",\"browser-rendering_09-frontend-levers-css-composite-paint-budget.md\":\"7ZbD4EhR\",\"browser-rendering___outline.md\":\"CmNcy8wn\",\"data-systems___outline.md\":\"BqMmzF7g\",\"ds-algorithms___outline.md\":\"CpxkLpNr\",\"frontend-architecture___outline.md\":\"EX4-aQi1\",\"index.md\":\"Ds2zHMWm\",\"js-core___outline.md\":\"ChVwqNJ4\",\"okr_2021.md\":\"DgdRGP6X\",\"okr_2022.md\":\"CVDbW8Mc\",\"okr_2023.md\":\"Bqmfj8Bx\",\"okr_2024.md\":\"CskiQrBu\",\"performance___outline.md\":\"Blc6WMiF\",\"ten-years_2025-core-plus-plugins.md\":\"DetAJTen\",\"ten-years_2025-release-patterns.md\":\"DL_KIcAz\",\"ten-years_2025-tool-evolution.md\":\"B3nhS1mJ\",\"ten-years_2025.md\":\"D1bzmM1s\",\"web-editor_01-editor-architecture.md\":\"CgNe855s\",\"web-editor_02-collaboration-crdt-ot.md\":\"C5bho8zw\",\"web-editor_03-plugin-system.md\":\"kiCS5Lto\",\"web-editor_04-doc-storage-and-indexes.md\":\"DAWM_SiU\",\"web-editor_05-versioning-and-incremental-sync.md\":\"DOs8CmUr\",\"web-editor_06-open-source-editors-comparison.md\":\"B1rAAiw1\",\"web-editor_07-fonts-history-and-secrets.md\":\"BZGd8WC8\",\"web-editor_08-images-history-and-secrets.md\":\"BY3isaUO\",\"web-editor_09-layout-algorithms-constraint.md\":\"CXKJe-Uq\",\"web-editor_10-unicode-linebreak-bidi-grapheme.md\":\"CWnRwY0a\",\"web-editor_11-hit-testing-and-event-system.md\":\"pMCUBHgH\",\"web-editor_12-rendering-graphics-details.md\":\"CZGDrDRn\",\"web-editor___outline.md\":\"u3QnuiD2\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Edeink 的精神小屋\",\"description\":\"Edeink 的个人博客，记录技术、生活、思考。\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"目录\",\"collapsed\":false,\"items\":[{\"text\":\"引序\",\"link\":\"/\"},{\"text\":\"Web 编辑器与协同\",\"collapsed\":true,\"items\":[{\"text\":\"Web 编辑器：核心架构与“轮点”演进\",\"link\":\"/web-editor/01-editor-architecture\"},{\"text\":\"协同编辑：CRDT vs OT 的工程取舍（以及富文本的坑）\",\"link\":\"/web-editor/02-collaboration-crdt-ot\"},{\"text\":\"Web 编辑器插件体系：可扩展、可治理、可兜底\",\"link\":\"/web-editor/03-plugin-system\"},{\"text\":\"Web 编辑器的数据怎么存：Rope、Piece Table、区间树与红黑树\",\"link\":\"/web-editor/04-doc-storage-and-indexes\"},{\"text\":\"Web 编辑器如何增量提交与版本管理：op log、快照与可回放系统\",\"link\":\"/web-editor/05-versioning-and-incremental-sync\"},{\"text\":\"开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill\",\"link\":\"/web-editor/06-open-source-editors-comparison\"},{\"text\":\"字体发展史与字体的秘密：从 OpenType 到编辑器排版管线\",\"link\":\"/web-editor/07-fonts-history-and-secrets\"},{\"text\":\"图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能\",\"link\":\"/web-editor/08-images-history-and-secrets\"},{\"text\":\"约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”\",\"link\":\"/web-editor/09-layout-algorithms-constraint\"},{\"text\":\"Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break\",\"link\":\"/web-editor/10-unicode-linebreak-bidi-grapheme\"},{\"text\":\"点击测试（Hit Testing）与事件系统：从坐标到交互闭环\",\"link\":\"/web-editor/11-hit-testing-and-event-system\"},{\"text\":\"渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）\",\"link\":\"/web-editor/12-rendering-graphics-details\"}]},{\"text\":\"浏览器底层与图形渲染\",\"collapsed\":true,\"items\":[{\"text\":\"Chromium 架构总览：多进程与线程模型\",\"link\":\"/browser-rendering/01-chromium-architecture-processes-and-threads\"},{\"text\":\"Blink 生命周期：style/layout/paint 与无效化\",\"link\":\"/browser-rendering/02-blink-lifecycle-style-layout-paint\"},{\"text\":\"cc 合成体系：两棵树、属性树与同步点\",\"link\":\"/browser-rendering/03-cc-compositor-commit-activate-draw\"},{\"text\":\"Viz/GPU/上屏：surface、buffer 与显示路径\",\"link\":\"/browser-rendering/04-viz-gpu-and-present-to-screen\"},{\"text\":\"输入与滚动：事件路由、命中与延迟下限\",\"link\":\"/browser-rendering/05-input-latency-scroll-and-hit-test\"},{\"text\":\"V8 细节（前端视角）：优化、deopt 与 GC\",\"link\":\"/browser-rendering/06-v8-for-frontend-hiddenclass-ic-gc\"},{\"text\":\"Worker：收益边界、OffscreenCanvas 与通信成本\",\"link\":\"/browser-rendering/07-workers-offscreen-canvas-and-transfer-cost\"},{\"text\":\"可观测：DevTools、Tracing/Perfetto 与归因方法\",\"link\":\"/browser-rendering/08-performance-tracing-devtools-perfetto\"},{\"text\":\"前端对照表：哪些写法对应哪条渲染管线\",\"link\":\"/browser-rendering/09-frontend-levers-css-composite-paint-budget\"}]},{\"text\":\"AI 学习与思考笔记\",\"collapsed\":true,\"items\":[{\"text\":\"AI 核心直觉：从梯度下降到 Transformer\",\"link\":\"/ai-chitchat/01-ai-core-intuition\"},{\"text\":\"图像生成原理：扩散模型与 Latent Space\",\"link\":\"/ai-chitchat/02-diffusion-principle\"},{\"text\":\"电商实战：AIGC 图文生产与 Agent 落地\",\"link\":\"/ai-chitchat/03-ecommerce-practice\"},{\"text\":\"工程范式：AI Coding 研发心法\",\"link\":\"/ai-chitchat/04-engineering-paradigm\"},{\"text\":\"Agent 开发十天冲刺计划：从前端到智能体架构师\",\"link\":\"/ai-chitchat/10-day-agent-learning-plan\"}]},{\"text\":\"工作的碎碎念\",\"collapsed\":true,\"items\":[{\"text\":\"为什么重交互产品都长成 Core + Plugins\",\"link\":\"/ten-years/2025-core-plus-plugins\"},{\"text\":\"四种发版节奏对比\",\"link\":\"/ten-years/2025-release-patterns\"},{\"text\":\"十年回望：从 WebOffice 到 Agent 的工具演进\",\"link\":\"/ten-years/2025-tool-evolution\"},{\"text\":\"2025：十年再回首我的工作经历\",\"link\":\"/ten-years/2025\"}]}]}],\"outline\":\"deep\",\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>