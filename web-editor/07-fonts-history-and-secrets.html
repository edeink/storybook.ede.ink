<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>字体发展史与字体的秘密：从 OpenType 到编辑器排版管线 | 2026</title>
    <meta name="description" content="Book preview from source/_posts/2026">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.6EKIstcX.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Bso63iIU.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C2eRlmqf.js">
    <link rel="modulepreload" href="/assets/chunks/theme.DCpQ2QuC.js">
    <link rel="modulepreload" href="/assets/chunks/katex.Cu_Erd72.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-6UL2VRFP.BFr-1k-S.js">
    <link rel="modulepreload" href="/assets/chunks/cose-bilkent-S5V4N54A.952tlhg_.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-YG6GDRKO.DJDoM6Cm.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-NV44I4VS.8UjvoLhx.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-Q2GNP2WA.DH1u6FgO.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-NY62KEGX.jlCf3R_H.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-JELNMOA3.CZgfnBqX.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-WHAUD3N6.9O8PMNgL.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-ADFJNKIX.CvivRrUo.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-AYHSOK5B.CYAHyuGF.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-PRI3JC2R.2qRh1mZp.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-UZGBJVZJ.D4rhye_D.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-WL72ISMW.DLD5kSuQ.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-2ON5EDUG.B8T-0mV_.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-WZHVMYZB.B8T-0mV_.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-FKZM4ZOC.BuQSdABs.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-4FDKWEC3.Bllkh3KV.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-XKPGCS4Q.CyEMTvVq.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-IT6M3QCI.Cj3VBXgM.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-VGOIOE7T.BlOxQaRC.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-3W4ZIXB7.KPcQZidX.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-TZEHDZUN.D5-Ji_W1.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-S2PKOQOG.6C4KPmag.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-QEK2KX5R.Bcb48A6e.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-VD42YOAC.CGDcZKdu.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-VXUJARFQ.CXTM2sn3.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-PSM6KHXK.DHLm6Z1z.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/web-editor_07-fonts-history-and-secrets.md.BfZHC_lv.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-7e31dfad><!--[--><!--]--><!--[--><span tabindex="-1" data-v-39971c1e></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-39971c1e>Skip to content</a><!--]--><!----><header class="VPNav" data-v-7e31dfad data-v-777e29d8><div class="VPNavBar" data-v-777e29d8 data-v-28354aa7><div class="wrapper" data-v-28354aa7><div class="container" data-v-28354aa7><div class="title" data-v-28354aa7><div class="VPNavBarTitle has-sidebar" data-v-28354aa7 data-v-7aef3d92><a class="title" href="/" data-v-7aef3d92><!--[--><!--]--><!----><span data-v-7aef3d92>2026</span><!--[--><!--]--></a></div></div><div class="content" data-v-28354aa7><div class="content-body" data-v-28354aa7><!--[--><!--]--><div class="VPNavBarSearch search" data-v-28354aa7><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-28354aa7 data-v-ac871bc4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-ac871bc4 data-v-f556f0c8 data-v-0f2dd873><span class="check" data-v-0f2dd873><span class="icon" data-v-0f2dd873><!--[--><span class="vpi-sun sun" data-v-f556f0c8></span><span class="vpi-moon moon" data-v-f556f0c8></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-28354aa7 data-v-554c9a17 data-v-195e553c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-195e553c><span class="vpi-more-horizontal icon" data-v-195e553c></span></button><div class="menu" data-v-195e553c><div class="VPMenu" data-v-195e553c data-v-d91ff435><!----><!--[--><!--[--><!----><div class="group" data-v-554c9a17><div class="item appearance" data-v-554c9a17><p class="label" data-v-554c9a17>Appearance</p><div class="appearance-action" data-v-554c9a17><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-554c9a17 data-v-f556f0c8 data-v-0f2dd873><span class="check" data-v-0f2dd873><span class="icon" data-v-0f2dd873><!--[--><span class="vpi-sun sun" data-v-f556f0c8></span><span class="vpi-moon moon" data-v-f556f0c8></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-28354aa7 data-v-c95a1bd1><span class="container" data-v-c95a1bd1><span class="top" data-v-c95a1bd1></span><span class="middle" data-v-c95a1bd1></span><span class="bottom" data-v-c95a1bd1></span></span></button></div></div></div></div><div class="divider" data-v-28354aa7><div class="divider-line" data-v-28354aa7></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-7e31dfad data-v-d1d97dc0><div class="container" data-v-d1d97dc0><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d1d97dc0><span class="vpi-align-left menu-icon" data-v-d1d97dc0></span><span class="menu-text" data-v-d1d97dc0>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-d1d97dc0 data-v-4833277d><button data-v-4833277d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-7e31dfad data-v-3fd06dd3><div class="curtain" data-v-3fd06dd3></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-3fd06dd3><span class="visually-hidden" id="sidebar-aria-label" data-v-3fd06dd3> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-efbd6156><section class="VPSidebarItem level-0 collapsible has-active" data-v-efbd6156 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h2 class="text" data-v-46688d19>目录</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-1 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/" data-v-46688d19><!--[--><p class="text" data-v-46688d19>引序</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>Web 编辑器与协同</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/01-editor-architecture" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器：核心架构与“轮点”演进</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/02-collaboration-crdt-ot" data-v-46688d19><!--[--><p class="text" data-v-46688d19>协同编辑：CRDT vs OT 的工程取舍（以及富文本的坑）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/03-plugin-system" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器插件体系：可扩展、可治理、可兜底</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/04-doc-storage-and-indexes" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器的数据怎么存：Rope、Piece Table、区间树与红黑树</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/05-versioning-and-incremental-sync" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器如何增量提交与版本管理：op log、快照与可回放系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/06-open-source-editors-comparison" data-v-46688d19><!--[--><p class="text" data-v-46688d19>开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/07-fonts-history-and-secrets" data-v-46688d19><!--[--><p class="text" data-v-46688d19>字体发展史与字体的秘密：从 OpenType 到编辑器排版管线</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/08-images-history-and-secrets" data-v-46688d19><!--[--><p class="text" data-v-46688d19>图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/09-layout-algorithms-constraint" data-v-46688d19><!--[--><p class="text" data-v-46688d19>约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/10-unicode-linebreak-bidi-grapheme" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/11-hit-testing-and-event-system" data-v-46688d19><!--[--><p class="text" data-v-46688d19>点击测试（Hit Testing）与事件系统：从坐标到交互闭环</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/12-rendering-graphics-details" data-v-46688d19><!--[--><p class="text" data-v-46688d19>渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>浏览器底层与图形渲染</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/01-chromium-architecture-processes-and-threads" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Chromium 架构总览：多进程与线程模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/02-blink-lifecycle-style-layout-paint" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Blink 生命周期：style/layout/paint 与无效化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/03-cc-compositor-commit-activate-draw" data-v-46688d19><!--[--><p class="text" data-v-46688d19>cc 合成体系：两棵树、属性树与同步点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/04-viz-gpu-and-present-to-screen" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Viz/GPU/上屏：surface、buffer 与显示路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/05-input-latency-scroll-and-hit-test" data-v-46688d19><!--[--><p class="text" data-v-46688d19>输入与滚动：事件路由、命中与延迟下限</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/06-v8-for-frontend-hiddenclass-ic-gc" data-v-46688d19><!--[--><p class="text" data-v-46688d19>V8 细节（前端视角）：优化、deopt 与 GC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/07-workers-offscreen-canvas-and-transfer-cost" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Worker：收益边界、OffscreenCanvas 与通信成本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/08-performance-tracing-devtools-perfetto" data-v-46688d19><!--[--><p class="text" data-v-46688d19>可观测：DevTools、Tracing/Perfetto 与归因方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/09-frontend-levers-css-composite-paint-budget" data-v-46688d19><!--[--><p class="text" data-v-46688d19>前端对照表：哪些写法对应哪条渲染管线</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>AI 碎碎念</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/01-ml-dl-basics-for-engineers" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 01：机器学习与深度学习的浅尝即止（工程师够用版）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/02-diffusion-models-primer" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 02：扩散模型从 DDPM 到 DiT（用类比讲清楚加噪与去噪）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/03-ecommerce-diffusion-practice" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 03：电商里的扩散模型折腾记（Mask、Inpaint、Outpaint 到虚拟试衣）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/04-llm-primer-for-engineers" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 04：LLM 够用版原理（Transformer、上下文与概率）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/05-ecommerce-llm-agent-practice" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 05：电商里的 LLM 落地（Agent、Prompt 与 A2UI）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/06-ai-positioning-and-engineering-playbook" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 06：我的定位与工程人的做法（不神化，不自卑）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/07-vibecoding-three-horses-faster" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 07：从 Vibe Coding 到 Spec-Driven Dev：四个轮子复刻 Faster</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>工作的碎碎念</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ten-years/2025-core-plus-plugins" data-v-46688d19><!--[--><p class="text" data-v-46688d19>为什么重交互产品都长成 Core + Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ten-years/2025-release-patterns" data-v-46688d19><!--[--><p class="text" data-v-46688d19>四种发版节奏对比</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ten-years/2025" data-v-46688d19><!--[--><p class="text" data-v-46688d19>2025：十年再回首我的工作经历</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-7e31dfad data-v-cfc5462b><div class="VPDoc has-sidebar has-aside" data-v-cfc5462b data-v-55d9feae><!--[--><!--]--><div class="container" data-v-55d9feae><div class="aside" data-v-55d9feae><div class="aside-curtain" data-v-55d9feae></div><div class="aside-container" data-v-55d9feae><div class="aside-content" data-v-55d9feae><div class="VPDocAside" data-v-55d9feae data-v-af649e6a><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-af649e6a data-v-bc4063f9><div class="content" data-v-bc4063f9><div class="outline-marker" data-v-bc4063f9></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-bc4063f9>On this page</div><ul class="VPDocOutlineItem root" data-v-bc4063f9 data-v-9f82df79><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-af649e6a></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-55d9feae><div class="content-container" data-v-55d9feae><!--[--><!--]--><main class="main" data-v-55d9feae><div style="position:relative;" class="vp-doc _web-editor_07-fonts-history-and-secrets" data-v-55d9feae><div><div class="alert read-stats" role="note"><span class="read-stats__icon" aria-hidden="true">🔖</span><span class="read-stats__text">本文约 <b>3911</b> 字，阅读预计耗时 <b>10</b> 分钟。</span></div><div class="alert ai-disclosure" role="note"><span class="ai-disclosure__icon" aria-hidden="true">ⓘ</span><span class="ai-disclosure__text">AI 辅助写作声明：本文由博主构思逻辑，AI 辅助润色，双方共同校对。</span></div><p>字体是前端入门第一天就会用到的东西，但真正做编辑器/排版后你会发现：你以为是 <code>font-family</code>，实际上是 shaping、kerning、hinting、fallback、以及各种历史包袱。</p><h2 id="问题-为什么编辑器做-排版-最后一定会撞上字体" tabindex="-1">问题：为什么编辑器做“排版”，最后一定会撞上字体？ <a class="header-anchor" href="#问题-为什么编辑器做-排版-最后一定会撞上字体" aria-label="Permalink to &quot;问题：为什么编辑器做“排版”，最后一定会撞上字体？&quot;">​</a></h2><p>因为编辑器的“排版”不是把字画出来那么简单，它需要精确回答：</p><ul><li>光标放哪：caret 的 x/y 怎么算</li><li>选区怎么画：range 需要拆成哪些 rect</li><li>点击命中：某个 x 对应字符 offset 是多少</li><li>换行怎么断：某段文本在哪断行更合理</li></ul><p>这些都依赖字体指标（metrics）、字距（kerning）、塑形（shaping），以及 fallback（缺字时换字体）的策略。</p><h2 id="分析-字体管线的三层抽象-纵向两层以上" tabindex="-1">分析：字体管线的三层抽象（纵向两层以上） <a class="header-anchor" href="#分析-字体管线的三层抽象-纵向两层以上" aria-label="Permalink to &quot;分析：字体管线的三层抽象（纵向两层以上）&quot;">​</a></h2><p>我把它拆成三个阶段（也对应编辑器的三个问题域）：</p><ol><li>Shaping（塑形）：文本 + 字体 → glyph 序列（含连字、替换、方向）</li><li>Layout（排版）：glyph 序列 → 行/段/盒模型位置（metrics/kerning/line breaking）</li><li>Render（渲染）：glyph → 像素（rasterization/antialiasing/subpixel）</li></ol><h3 id="字体管线图-源文件-assets-diagrams-font-pipeline-mmd" tabindex="-1">字体管线图（源文件：<code>../assets/diagrams/font-pipeline.mmd</code>） <a class="header-anchor" href="#字体管线图-源文件-assets-diagrams-font-pipeline-mmd" aria-label="Permalink to &quot;字体管线图（源文件：`../assets/diagrams/font-pipeline.mmd`）&quot;">​</a></h3><div class="mermaid"></div><p>这张图里最容易被低估的是 Shaping：很多人以为“字体就是画字”，但在复杂脚本里，“字”并不是一个个独立的方块。</p><p>你可以把 shaping 类比成“拼音转汉字”：</p><ul><li>输入是 Unicode 序列（像拼音字母）</li><li>输出是 glyph 序列（像最终选定的汉字与排版形态）</li><li>规则来自字体与脚本系统（GSUB/GPOS、bidi、语言特性）</li></ul><p>这也是为什么编辑器在做“按字符移动光标”时经常踩坑：用户眼里的一个字形，不一定对应一个 Unicode code point；而引擎画出来的一个 glyph，也不一定对应一个“可分割的字符”。</p><h2 id="字体的历史-横向脉络" tabindex="-1">字体的历史（横向脉络） <a class="header-anchor" href="#字体的历史-横向脉络" aria-label="Permalink to &quot;字体的历史（横向脉络）&quot;">​</a></h2><ul><li>点阵字体（Bitmap）：像素时代的“所见即所得”，小字号清晰，大了锯齿</li><li>轮廓字体（Outline）：用贝塞尔曲线描述字形，分辨率独立</li><li>TrueType：强调 hinting（小字号对齐像素栅格）</li><li>OpenType：更丰富的排版特性（GSUB/GPOS），成为现代主流</li><li>WOFF/WOFF2：为 Web 传播重新封装/压缩字体（体积、加载、安全）</li></ul><p>“轮点”式理解：</p><ul><li>轮点 0：能显示字</li><li>轮点 1：小字号清晰（hinting）</li><li>轮点 2：复杂脚本/连字（shaping）</li><li>轮点 3：Web 传输与性能（woff2 + preload + cache）</li></ul><h2 id="字体的秘密-1-unicode-不是字形-字形也不是字符" tabindex="-1">字体的秘密 1：Unicode 不是字形，字形也不是字符 <a class="header-anchor" href="#字体的秘密-1-unicode-不是字形-字形也不是字符" aria-label="Permalink to &quot;字体的秘密 1：Unicode 不是字形，字形也不是字符&quot;">​</a></h2><p>同一个字符可能有多种组合方式（组合附加符），同一个字形也可能对应多个字符序列（连字）。</p><p>编辑器里的现实后果：</p><ul><li>“字符数”不等于“可见 glyph 数”</li><li>光标移动“按字符”可能不是用户直觉（尤其在复杂脚本）</li></ul><p>换句话说：你在 UI 里看到的“一个字”，可能是多个 Unicode code points；而渲染引擎最终画出来的 glyph，也可能对应多个 code points 的合成结果。</p><p>用一个最常见的例子就能把问题说明白：</p><table tabindex="0"><thead><tr><th>视觉显示</th><th>Unicode 表示</th><th>code points 数量</th><th>用户感知的“一个字”（grapheme cluster）</th></tr></thead><tbody><tr><td>é</td><td>U+00E9（预组字符）</td><td>1</td><td>1</td></tr><tr><td>é</td><td>U+0065 + U+0301（组合附加符）</td><td>2</td><td>1</td></tr></tbody></table><p>因此编辑器里的“光标移动一个单位”到底是多少，取决于你选的是：</p><ul><li>code unit（JS 的 UTF-16 长度）：最容易踩坑</li><li>code point：稍好，但仍不等于用户感知字符</li><li>grapheme cluster：更贴近用户直觉，但实现成本更高（要依赖 Unicode 规则与分词）</li></ul><h2 id="字体的秘密-2-kerning-与-metrics-决定-看起来对不对" tabindex="-1">字体的秘密 2：kerning 与 metrics 决定“看起来对不对” <a class="header-anchor" href="#字体的秘密-2-kerning-与-metrics-决定-看起来对不对" aria-label="Permalink to &quot;字体的秘密 2：kerning 与 metrics 决定“看起来对不对”&quot;">​</a></h2><p>同样是 “AV”，很多字体会做字距对调整，让它们更贴合。</p><p>编辑器里的现实后果：</p><ul><li>点击测试不能用“等宽假设”</li><li>选区 rect 不能用 “字符宽度 * n” 简化</li></ul><p>你可以把 kerning 理解成“字与字之间的私交”：A 和 V 这对邻居，彼此靠近会更好看，于是字体把它们的间距偷偷调小。</p><p>用一个非常直观的等式表达它：</p><ul><li>width(&quot;AV&quot;) ≠ width(&quot;A&quot;) + width(&quot;V&quot;)</li></ul><p>这就是为什么编辑器做 hit testing 时，不能用“字符等宽”或“平均宽度”偷懒。你必须以 glyph advances（每个 glyph 的前进量）为事实来源，然后在这些 advances 上做定位。</p><p>为了让它更可操作，给一个“从 x 找字符”的流程图（概念版）：</p><div class="mermaid"></div><h2 id="字体的秘密-3-opentype-的-gsub-gpos-是排版能力的核心" tabindex="-1">字体的秘密 3：OpenType 的 GSUB/GPOS 是排版能力的核心 <a class="header-anchor" href="#字体的秘密-3-opentype-的-gsub-gpos-是排版能力的核心" aria-label="Permalink to &quot;字体的秘密 3：OpenType 的 GSUB/GPOS 是排版能力的核心&quot;">​</a></h2><p>OpenType 的关键表：</p><ul><li>GSUB：glyph 替换（连字、变体）</li><li>GPOS：glyph 定位（字距对、标记定位）</li></ul><p>编辑器层面的落点：</p><ul><li>你要做“所见即所得”的专业排版（连字、标点挤压），绕不开 shaping</li><li>浏览器做了很多，但并不暴露所有中间结果（尤其是你想做精确 hit testing 时）</li></ul><h2 id="更现实的秘密-line-height、baseline-与-看起来对齐" tabindex="-1">更现实的秘密：line-height、baseline 与“看起来对齐” <a class="header-anchor" href="#更现实的秘密-line-height、baseline-与-看起来对齐" aria-label="Permalink to &quot;更现实的秘密：line-height、baseline 与“看起来对齐”&quot;">​</a></h2><p>很多编辑器团队会遇到一种很像玄学的 bug：</p><ul><li>文本和图片混排时，baseline 看起来“飘”</li><li>不同字体切换后，行高突然抖动</li><li>同一段文本在不同机器换行点不同</li></ul><p>这些问题往往不是渲染 bug，而是你对“排版度量”的事实来源没有统一：</p><ul><li>ascent/descent/lineGap：决定一行在垂直方向的空间分配</li><li>baseline：决定 inline 内容如何对齐</li><li>fallback：某些字符换了字体，metrics 变了，行高就变了</li></ul><p>你可以把它类比成“队列站位”：</p><ul><li>baseline 是地面那条黄线</li><li>ascent/descent 是人头顶与脚底的安全距离</li><li>换字体就是换了不同身高的人进队伍，如果你不重新计算队列高度，就会撞头或踩脚</li></ul><p>工程上更稳的做法是：</p><ul><li>把“glyph run 的 metrics”缓存下来，作为 hit testing/selection 的事实来源</li><li>字体加载完成后，如果 metrics 变化，必须触发布局重算（否则点不准、选区画错）</li></ul><h2 id="排障视角-字体问题通常怎么被定位出来" tabindex="-1">排障视角：字体问题通常怎么被定位出来？ <a class="header-anchor" href="#排障视角-字体问题通常怎么被定位出来" aria-label="Permalink to &quot;排障视角：字体问题通常怎么被定位出来？&quot;">​</a></h2><p>字体相关的线上问题，最怕的是“很难复现”。建议你至少能在日志里拿到这些信息：</p><ul><li>font-family 列表与最终命中的字体（fallback 的结果）</li><li>语言与方向（locale / writing mode / bidi 相关）</li><li>关键字符的 code points 与 grapheme 分割结果（用于解释“一个字到底算几个单位”）</li><li>layout 的 cache key（用来解释为什么命中了某份排版缓存）</li></ul><p>四舍五入：字体问题看似是 UI 细节，实际上是“事实来源不统一”导致的系统性问题。你一旦能把事实打印出来，它就不再玄学。</p><h2 id="工程实践-字体-fallback-与一致性" tabindex="-1">工程实践：字体 fallback 与一致性 <a class="header-anchor" href="#工程实践-字体-fallback-与一致性" aria-label="Permalink to &quot;工程实践：字体 fallback 与一致性&quot;">​</a></h2><p>编辑器是“强交互”应用，字体 fallback 会直接影响：</p><ul><li>同一段文本在不同机器的换行位置不同</li><li>点击测试 offset 不一致</li><li>协同里“同一位置”出现视觉差异</li></ul><p>策略通常是：</p><ul><li>业务约束字体：尽量固定 font-family（或把 fallback 列表也固定）</li><li>关键文档做一致性渲染：服务端/导出侧用同一排版引擎（PDF/图片）</li></ul><p>补两条非常“现实”的工程建议：</p><ol><li>Web 侧字体加载策略要写进产品预期</li></ol><ul><li>首屏阶段可能发生 swap（先用系统字体，后切换自定义字体）</li><li>swap 会改变换行位置与光标坐标，这不是 bug，是策略结果</li><li>如果业务不接受“排版跳动”，就要用 preload、子集化（subset）、更激进的缓存策略，把字体尽量提前准备好</li></ul><ol start="2"><li>排版缓存的 key 必须把“字体相关变量”算进去</li></ol><p>排版结果不是 text 的函数，而是一个高维函数：</p><ul><li>LayoutResult = F(text, fontFamily, fontSize, fontWeight, locale, writingMode, featureFlags, …)</li></ul><p>因此缓存 key 至少要包含这些维度（哪怕你最后用 hash 打包成一个字符串）。不然你会遇到一种经典事故：缓存命中率很高，但命中的结果是错的（光标/选区错位），而且很难复现。</p><h2 id="细节-一个-字-到底算几个单位-grapheme、glyph-与-hit-testing" tabindex="-1">细节：一个“字”到底算几个单位（grapheme、glyph 与 hit testing） <a class="header-anchor" href="#细节-一个-字-到底算几个单位-grapheme、glyph-与-hit-testing" aria-label="Permalink to &quot;细节：一个“字”到底算几个单位（grapheme、glyph 与 hit testing）&quot;">​</a></h2><p>很多字体/排版 bug 的根源不是字体文件坏了，而是你在系统里偷偷用了两套不同的“计数单位”：</p><ul><li>输入法与用户直觉里的“字”：更接近 grapheme cluster（一个可感知字符）</li><li>排版引擎里的 glyph：是绘制单元，可能一个字拆成多个 glyph，也可能多个字合成一个 glyph（连字）</li><li>文档模型里的 offset：往往是 code unit/code point 的计数</li></ul><p>当你用 offset 去做 hit testing 时，问题就出现了：用户点的是“视觉上的字”，而你返回的是“编码上的位置”。在中文场景里这个差异不明显，但一旦进入 emoji、变体选择符、组合附加符号、以及一些复杂脚本（阿拉伯、印地语），差异会突然变得很大。</p><p>更稳的工程策略是：把“从像素到文本位置”的映射建立在排版结果之上，而不是建立在字符串之上。也就是说，hit testing 不是 F(text, x, y)，而是 F(layoutResult, x, y)。你可以把它理解成：用户点的是“排版后的纸面”，你应该在纸面上找落点，而不是在原始稿纸里数第几个字符。</p><h2 id="导出一致性-同一份文档在不同设备上-长得一样-有多难" tabindex="-1">导出一致性：同一份文档在不同设备上“长得一样”有多难 <a class="header-anchor" href="#导出一致性-同一份文档在不同设备上-长得一样-有多难" aria-label="Permalink to &quot;导出一致性：同一份文档在不同设备上“长得一样”有多难&quot;">​</a></h2><p>字体问题在 Web 侧通常表现为“点不准、换行不一致”，但到了导出（PDF/图片/打印）时，它会升级成“版式不一致”。用户会拿两份导出结果对比，然后问你一句很致命的话：为什么我这边第 3 行在你那边跑到第 4 行了？</p><p>这背后其实是同一个根因：排版是多维函数，而你很难保证所有维度都一致：</p><ul><li>字体文件版本不同（同名字体在不同系统可能不是同一份）</li><li>fallback 链不同（某个字在 A 机用字体 X，在 B 机用字体 Y）</li><li>排版引擎不同（浏览器、Canvas、导出引擎的 shaping 行为不完全一致）</li></ul><p>更稳的工程路线通常是“把一致性需求切两半”：</p><ul><li><strong>编辑态一致性</strong>：尽量控制字体与 fallback，保证交互稳定；允许少量视觉差异，但不允许选择与命中错位</li><li><strong>导出态一致性</strong>：尽量把排版收敛到同一条链路（例如导出走服务端同一排版引擎，或固定内嵌字体），把不可控维度剥离</li></ul><p>四舍五入：你不需要在所有环境里做到像素级一致，但你必须决定哪些场景要“强一致”，并为强一致付出代价（内嵌字体、统一引擎、或服务端导出）。否则一致性会以线上投诉的形式逼你补课。</p><h2 id="资源优化-字体子集化为什么能救命" tabindex="-1">资源优化：字体子集化为什么能救命 <a class="header-anchor" href="#资源优化-字体子集化为什么能救命" aria-label="Permalink to &quot;资源优化：字体子集化为什么能救命&quot;">​</a></h2><p>字体是 Web 编辑器里非常“反直觉”的资源：你可能只用到几百个字，但完整字体文件可能是几 MB。加载慢不仅影响首屏，还会影响交互稳定性：字体 swap 会改变 metrics，进而触发重排与命中偏移。</p><p>因此很多产品最终都会做子集化（subset）：只打包当前语言与常用字符集，或者按文档内容动态生成子集。它的工程收益通常是三重的：</p><ul><li>加载更快：减少传输与解析成本</li><li>交互更稳：减少 swap 概率，降低“排版跳动”</li><li>缓存更好：子集文件更小，更容易被 CDN 与浏览器缓存命中</li></ul><p>当然它也有代价：字符集覆盖要可控（否则用户输入一个冷门字就触发 fallback），以及子集生成与更新要有策略（按文档、按用户、按语言包）。四舍五入：子集化不是“优化项”，而是当你开始认真做字体一致性时几乎绕不开的基础设施。</p><h2 id="多语言与双向文字-当你以为是字体-其实是方向与分段" tabindex="-1">多语言与双向文字：当你以为是字体，其实是方向与分段 <a class="header-anchor" href="#多语言与双向文字-当你以为是字体-其实是方向与分段" aria-label="Permalink to &quot;多语言与双向文字：当你以为是字体，其实是方向与分段&quot;">​</a></h2><p>中文场景里很多东西看起来“天然正常”，但一旦进入多语言混排（英文+阿拉伯文+emoji），你会遇到一类特别像字体 bug 的问题：光标落点不符合直觉、选区方向反了、甚至某些字符看得见但点不到。</p><p>这类问题很多时候不是字体文件的问题，而是 bidi（双向文本）与分段规则带来的复杂度：同一行内可能存在不同方向的片段，视觉顺序与逻辑顺序不再一致。排版引擎会根据 Unicode bidi 算法重排视觉顺序，而你的文档模型与 offset 仍然基于逻辑顺序。</p><p>因此更稳的工程策略依旧是那句话：命中与选择必须建立在排版结果之上，并且排版结果要能暴露“逻辑到视觉”的映射关系。否则你会在多语言场景里不断修补“特例”，最后把系统变成一张补丁毯。</p><h2 id="微排版-kerning、连字与-为什么光标看起来不在正中间" tabindex="-1">微排版：kerning、连字与“为什么光标看起来不在正中间” <a class="header-anchor" href="#微排版-kerning、连字与-为什么光标看起来不在正中间" aria-label="Permalink to &quot;微排版：kerning、连字与“为什么光标看起来不在正中间”&quot;">​</a></h2><p>当你开始认真做 caret 与 selection，你会遇到一个很违和的现象：同样是两个字母组合，视觉间距会变；某些字体下 “fi” 会被连成一个 glyph；而用户的直觉却是“我点在字符中间就应该落到中间”。这类差异会把 “x 二分找 offset” 的简单模型变复杂。</p><p>背后的关键点是：排版引擎的基本单位不是字符，而是 glyph cluster。cluster 可能包含多个字符（连字），也可能包含一个字符但由多个 glyph 组合（变体、组合附加符号）。因此 caret 的落点集合也不是“每个字符一个边界”，而是“每个 cluster 一个或多个边界”。</p><p>更稳的思路是把 caret 定位建立在 advance 的前缀和之上，但 advance 的下标对应 cluster，而不是对应 code point。用符号写就是：</p><ul><li>clusterAdv[i] = 第 i 个 cluster 右边界的 x</li><li>caret(i) = clusterAdv[i] 或 clusterAdv[i-1]（取决于落点规则）</li></ul><p>这样你才能在连字、kerning 与复杂脚本下保持一致：视觉上看起来“一个块”，逻辑上也用同一个 cluster 处理。四舍五入：字体微排版不是锦上添花，它直接决定“点不点得准”和“选不选得对”。</p><h2 id="补充阅读-从字体文件到像素" tabindex="-1">补充阅读：从字体文件到像素 <a class="header-anchor" href="#补充阅读-从字体文件到像素" aria-label="Permalink to &quot;补充阅读：从字体文件到像素&quot;">​</a></h2><p>如果你想把“字体渲染”从黑箱打开一点，有三份材料我觉得非常适合当坐标系：</p><ol><li>TrueType 的最低实现视角：字体文件就是一堆二进制表，读出来、解释轮廓、再把轮廓栅格化成像素。看完你会更理解“渲染成本”为什么会落在解析、栅格化、缓存与合成上，而不是一句 <code>font-family</code> 能概括的。</li><li>Firefox 工程师视角的现实提醒：真正让人崩溃的不是某一个算法，而是“样式、布局、塑形、栅格化、合成”互相依赖，且永远有边界条件。它解释了为什么几乎没有系统能把文字渲染做得“完美”，只能做工程权衡。</li><li>文本布局的“松散层级”视角：把文本从段落拆到更细粒度（样式 run / bidi run / 字体覆盖 / script / shaping cluster），再把结果组装成可绘制、可测量、可命中的布局对象。它很适合用来对齐你自己的排版数据结构应该长什么样。</li></ol><h2 id="参考与引用" tabindex="-1">参考与引用 <a class="header-anchor" href="#参考与引用" aria-label="Permalink to &quot;参考与引用&quot;">​</a></h2><ol><li>OpenType Specification：<a href="https://learn.microsoft.com/en-us/typography/opentype/spec/" target="_blank" rel="noreferrer">https://learn.microsoft.com/en-us/typography/opentype/spec/</a> （Bib: <code>opentype_spec</code>）</li><li>WOFF2 Specification：<a href="https://www.w3.org/TR/WOFF2/" target="_blank" rel="noreferrer">https://www.w3.org/TR/WOFF2/</a> （Bib: <code>woff2_spec</code>）</li><li>Unicode Standard / Normalization：<a href="https://unicode.org/reports/tr15/" target="_blank" rel="noreferrer">https://unicode.org/reports/tr15/</a> （Bib: <code>unicode_tr15</code>）</li><li>HarfBuzz（shaping 引擎，概念参考）：<a href="https://harfbuzz.github.io/" target="_blank" rel="noreferrer">https://harfbuzz.github.io/</a> （Bib: <code>harfbuzz</code>）</li><li>Writing a TrueType font renderer：<a href="https://axleos.com/writing-a-truetype-font-renderer/" target="_blank" rel="noreferrer">https://axleos.com/writing-a-truetype-font-renderer/</a> （Bib: <code>ttf_renderer_axle</code>）</li><li>Text Rendering Hates You：<a href="https://faultlore.com/blah/text-hates-you/" target="_blank" rel="noreferrer">https://faultlore.com/blah/text-hates-you/</a> （Bib: <code>text_hates_you</code>）</li><li>Text layout is a loose hierarchy of segmentation：<a href="https://raphlinus.github.io/text/2020/10/26/text-layout.html" target="_blank" rel="noreferrer">https://raphlinus.github.io/text/2020/10/26/text-layout.html</a> （Bib: <code>text_layout_loose_hierarchy</code>）</li></ol></div></div></main><footer class="VPDocFooter" data-v-55d9feae data-v-56184811><!--[--><!--]--><div class="edit-info" data-v-56184811><!----><div class="last-updated" data-v-56184811><p class="VPLastUpdated" data-v-56184811 data-v-849a375e>Last updated: <time datetime="2026-01-21T20:13:49.000Z" data-v-849a375e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-56184811><span class="visually-hidden" id="doc-footer-aria-label" data-v-56184811>Pager</span><div class="pager" data-v-56184811><a class="VPLink link pager-link prev" href="/web-editor/06-open-source-editors-comparison" data-v-56184811><!--[--><span class="desc" data-v-56184811>Previous page</span><span class="title" data-v-56184811>开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill</span><!--]--></a></div><div class="pager" data-v-56184811><a class="VPLink link pager-link next" href="/web-editor/08-images-history-and-secrets" data-v-56184811><!--[--><span class="desc" data-v-56184811>Next page</span><span class="title" data-v-56184811>图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"BOuT5Xqj\",\"about.prev.md\":\"BQgxr-AH\",\"about.reference.md\":\"7t6c_gbk\",\"ai-chitchat_01-ml-dl-basics-for-engineers.md\":\"CSGKLUmh\",\"ai-chitchat_02-diffusion-models-primer.md\":\"CgXvcQH6\",\"ai-chitchat_03-ecommerce-diffusion-practice.md\":\"DNuKoPoL\",\"ai-chitchat_04-llm-primer-for-engineers.md\":\"DFj5j7et\",\"ai-chitchat_05-ecommerce-llm-agent-practice.md\":\"2OVUGGlq\",\"ai-chitchat_06-ai-positioning-and-engineering-playbook.md\":\"DOY1c6D9\",\"ai-chitchat_07-vibecoding-three-horses-faster.md\":\"Ckw94XWx\",\"ai-chitchat___outline.md\":\"BemGlInV\",\"browser-rendering_01-chromium-architecture-processes-and-threads.md\":\"DGnUA3U4\",\"browser-rendering_02-blink-lifecycle-style-layout-paint.md\":\"ZIXhYsvb\",\"browser-rendering_03-cc-compositor-commit-activate-draw.md\":\"Cex6WzAq\",\"browser-rendering_04-viz-gpu-and-present-to-screen.md\":\"ChNkp0-R\",\"browser-rendering_05-input-latency-scroll-and-hit-test.md\":\"eyEnLM1m\",\"browser-rendering_06-v8-for-frontend-hiddenclass-ic-gc.md\":\"CDR1x51v\",\"browser-rendering_07-workers-offscreen-canvas-and-transfer-cost.md\":\"CqWrNVIC\",\"browser-rendering_08-performance-tracing-devtools-perfetto.md\":\"AtPS6R68\",\"browser-rendering_09-frontend-levers-css-composite-paint-budget.md\":\"CkrrnGje\",\"browser-rendering___outline.md\":\"Bv1SlDU_\",\"data-systems___outline.md\":\"BmGU4eM0\",\"ds-algorithms___outline.md\":\"4wxr6wUW\",\"frontend-architecture___outline.md\":\"Cdxl7-6Z\",\"index.md\":\"CWShnum0\",\"js-core___outline.md\":\"DMBo0gev\",\"okr_2021.md\":\"Cxlsal38\",\"okr_2022.md\":\"DfSlpXrp\",\"okr_2023.md\":\"C2u0sLp9\",\"okr_2024.md\":\"BYqUlAws\",\"performance___outline.md\":\"DNRdWFUF\",\"ten-years_2025-core-plus-plugins.md\":\"v7DR0KfE\",\"ten-years_2025-release-patterns.md\":\"DQrIb2jd\",\"ten-years_2025.md\":\"Bclmut9b\",\"web-editor_01-editor-architecture.md\":\"lRsdKxVi\",\"web-editor_02-collaboration-crdt-ot.md\":\"C942o2Qf\",\"web-editor_03-plugin-system.md\":\"DNyk1ILk\",\"web-editor_04-doc-storage-and-indexes.md\":\"DzdXlCjz\",\"web-editor_05-versioning-and-incremental-sync.md\":\"hIpenErk\",\"web-editor_06-open-source-editors-comparison.md\":\"DDGZ3jWP\",\"web-editor_07-fonts-history-and-secrets.md\":\"BfZHC_lv\",\"web-editor_08-images-history-and-secrets.md\":\"DPcy_uLE\",\"web-editor_09-layout-algorithms-constraint.md\":\"DplBRr8f\",\"web-editor_10-unicode-linebreak-bidi-grapheme.md\":\"BEMy2SAO\",\"web-editor_11-hit-testing-and-event-system.md\":\"MqCg7gRd\",\"web-editor_12-rendering-graphics-details.md\":\"D01JXebS\",\"web-editor___outline.md\":\"DI1aAM5K\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"2026\",\"description\":\"Book preview from source/_posts/2026\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"目录\",\"collapsed\":false,\"items\":[{\"text\":\"引序\",\"link\":\"/\"},{\"text\":\"Web 编辑器与协同\",\"collapsed\":true,\"items\":[{\"text\":\"Web 编辑器：核心架构与“轮点”演进\",\"link\":\"/web-editor/01-editor-architecture\"},{\"text\":\"协同编辑：CRDT vs OT 的工程取舍（以及富文本的坑）\",\"link\":\"/web-editor/02-collaboration-crdt-ot\"},{\"text\":\"Web 编辑器插件体系：可扩展、可治理、可兜底\",\"link\":\"/web-editor/03-plugin-system\"},{\"text\":\"Web 编辑器的数据怎么存：Rope、Piece Table、区间树与红黑树\",\"link\":\"/web-editor/04-doc-storage-and-indexes\"},{\"text\":\"Web 编辑器如何增量提交与版本管理：op log、快照与可回放系统\",\"link\":\"/web-editor/05-versioning-and-incremental-sync\"},{\"text\":\"开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill\",\"link\":\"/web-editor/06-open-source-editors-comparison\"},{\"text\":\"字体发展史与字体的秘密：从 OpenType 到编辑器排版管线\",\"link\":\"/web-editor/07-fonts-history-and-secrets\"},{\"text\":\"图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能\",\"link\":\"/web-editor/08-images-history-and-secrets\"},{\"text\":\"约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”\",\"link\":\"/web-editor/09-layout-algorithms-constraint\"},{\"text\":\"Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break\",\"link\":\"/web-editor/10-unicode-linebreak-bidi-grapheme\"},{\"text\":\"点击测试（Hit Testing）与事件系统：从坐标到交互闭环\",\"link\":\"/web-editor/11-hit-testing-and-event-system\"},{\"text\":\"渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）\",\"link\":\"/web-editor/12-rendering-graphics-details\"}]},{\"text\":\"浏览器底层与图形渲染\",\"collapsed\":true,\"items\":[{\"text\":\"Chromium 架构总览：多进程与线程模型\",\"link\":\"/browser-rendering/01-chromium-architecture-processes-and-threads\"},{\"text\":\"Blink 生命周期：style/layout/paint 与无效化\",\"link\":\"/browser-rendering/02-blink-lifecycle-style-layout-paint\"},{\"text\":\"cc 合成体系：两棵树、属性树与同步点\",\"link\":\"/browser-rendering/03-cc-compositor-commit-activate-draw\"},{\"text\":\"Viz/GPU/上屏：surface、buffer 与显示路径\",\"link\":\"/browser-rendering/04-viz-gpu-and-present-to-screen\"},{\"text\":\"输入与滚动：事件路由、命中与延迟下限\",\"link\":\"/browser-rendering/05-input-latency-scroll-and-hit-test\"},{\"text\":\"V8 细节（前端视角）：优化、deopt 与 GC\",\"link\":\"/browser-rendering/06-v8-for-frontend-hiddenclass-ic-gc\"},{\"text\":\"Worker：收益边界、OffscreenCanvas 与通信成本\",\"link\":\"/browser-rendering/07-workers-offscreen-canvas-and-transfer-cost\"},{\"text\":\"可观测：DevTools、Tracing/Perfetto 与归因方法\",\"link\":\"/browser-rendering/08-performance-tracing-devtools-perfetto\"},{\"text\":\"前端对照表：哪些写法对应哪条渲染管线\",\"link\":\"/browser-rendering/09-frontend-levers-css-composite-paint-budget\"}]},{\"text\":\"AI 碎碎念\",\"collapsed\":true,\"items\":[{\"text\":\"AI 碎碎念 01：机器学习与深度学习的浅尝即止（工程师够用版）\",\"link\":\"/ai-chitchat/01-ml-dl-basics-for-engineers\"},{\"text\":\"AI 碎碎念 02：扩散模型从 DDPM 到 DiT（用类比讲清楚加噪与去噪）\",\"link\":\"/ai-chitchat/02-diffusion-models-primer\"},{\"text\":\"AI 碎碎念 03：电商里的扩散模型折腾记（Mask、Inpaint、Outpaint 到虚拟试衣）\",\"link\":\"/ai-chitchat/03-ecommerce-diffusion-practice\"},{\"text\":\"AI 碎碎念 04：LLM 够用版原理（Transformer、上下文与概率）\",\"link\":\"/ai-chitchat/04-llm-primer-for-engineers\"},{\"text\":\"AI 碎碎念 05：电商里的 LLM 落地（Agent、Prompt 与 A2UI）\",\"link\":\"/ai-chitchat/05-ecommerce-llm-agent-practice\"},{\"text\":\"AI 碎碎念 06：我的定位与工程人的做法（不神化，不自卑）\",\"link\":\"/ai-chitchat/06-ai-positioning-and-engineering-playbook\"},{\"text\":\"AI 碎碎念 07：从 Vibe Coding 到 Spec-Driven Dev：四个轮子复刻 Faster\",\"link\":\"/ai-chitchat/07-vibecoding-three-horses-faster\"}]},{\"text\":\"工作的碎碎念\",\"collapsed\":true,\"items\":[{\"text\":\"为什么重交互产品都长成 Core + Plugins\",\"link\":\"/ten-years/2025-core-plus-plugins\"},{\"text\":\"四种发版节奏对比\",\"link\":\"/ten-years/2025-release-patterns\"},{\"text\":\"2025：十年再回首我的工作经历\",\"link\":\"/ten-years/2025\"}]}]}],\"outline\":\"deep\",\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>