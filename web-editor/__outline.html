<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web 编辑器专题：大纲 | 2026</title>
    <meta name="description" content="Book preview from source/_posts/2026">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/assets/style.6EKIstcX.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Bso63iIU.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.C2eRlmqf.js">
    <link rel="modulepreload" href="/assets/chunks/theme.DCpQ2QuC.js">
    <link rel="modulepreload" href="/assets/chunks/katex.Cu_Erd72.js">
    <link rel="modulepreload" href="/assets/chunks/dagre-6UL2VRFP.BFr-1k-S.js">
    <link rel="modulepreload" href="/assets/chunks/cose-bilkent-S5V4N54A.952tlhg_.js">
    <link rel="modulepreload" href="/assets/chunks/c4Diagram-YG6GDRKO.DJDoM6Cm.js">
    <link rel="modulepreload" href="/assets/chunks/flowDiagram-NV44I4VS.8UjvoLhx.js">
    <link rel="modulepreload" href="/assets/chunks/erDiagram-Q2GNP2WA.DH1u6FgO.js">
    <link rel="modulepreload" href="/assets/chunks/gitGraphDiagram-NY62KEGX.jlCf3R_H.js">
    <link rel="modulepreload" href="/assets/chunks/ganttDiagram-JELNMOA3.CZgfnBqX.js">
    <link rel="modulepreload" href="/assets/chunks/infoDiagram-WHAUD3N6.9O8PMNgL.js">
    <link rel="modulepreload" href="/assets/chunks/pieDiagram-ADFJNKIX.CvivRrUo.js">
    <link rel="modulepreload" href="/assets/chunks/quadrantDiagram-AYHSOK5B.CYAHyuGF.js">
    <link rel="modulepreload" href="/assets/chunks/xychartDiagram-PRI3JC2R.2qRh1mZp.js">
    <link rel="modulepreload" href="/assets/chunks/requirementDiagram-UZGBJVZJ.D4rhye_D.js">
    <link rel="modulepreload" href="/assets/chunks/sequenceDiagram-WL72ISMW.DLD5kSuQ.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-2ON5EDUG.B8T-0mV_.js">
    <link rel="modulepreload" href="/assets/chunks/classDiagram-v2-WZHVMYZB.B8T-0mV_.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-FKZM4ZOC.BuQSdABs.js">
    <link rel="modulepreload" href="/assets/chunks/stateDiagram-v2-4FDKWEC3.Bllkh3KV.js">
    <link rel="modulepreload" href="/assets/chunks/journeyDiagram-XKPGCS4Q.CyEMTvVq.js">
    <link rel="modulepreload" href="/assets/chunks/timeline-definition-IT6M3QCI.Cj3VBXgM.js">
    <link rel="modulepreload" href="/assets/chunks/mindmap-definition-VGOIOE7T.BlOxQaRC.js">
    <link rel="modulepreload" href="/assets/chunks/kanban-definition-3W4ZIXB7.KPcQZidX.js">
    <link rel="modulepreload" href="/assets/chunks/sankeyDiagram-TZEHDZUN.D5-Ji_W1.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-S2PKOQOG.6C4KPmag.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-QEK2KX5R.Bcb48A6e.js">
    <link rel="modulepreload" href="/assets/chunks/blockDiagram-VD42YOAC.CGDcZKdu.js">
    <link rel="modulepreload" href="/assets/chunks/architectureDiagram-VXUJARFQ.CXTM2sn3.js">
    <link rel="modulepreload" href="/assets/chunks/diagram-PSM6KHXK.DHLm6Z1z.js">
    <link rel="modulepreload" href="/assets/chunks/virtual_mermaid-config.DDnGl6nM.js">
    <link rel="modulepreload" href="/assets/web-editor___outline.md.DI1aAM5K.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-7e31dfad><!--[--><!--]--><!--[--><span tabindex="-1" data-v-39971c1e></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-39971c1e>Skip to content</a><!--]--><!----><header class="VPNav" data-v-7e31dfad data-v-777e29d8><div class="VPNavBar" data-v-777e29d8 data-v-28354aa7><div class="wrapper" data-v-28354aa7><div class="container" data-v-28354aa7><div class="title" data-v-28354aa7><div class="VPNavBarTitle has-sidebar" data-v-28354aa7 data-v-7aef3d92><a class="title" href="/" data-v-7aef3d92><!--[--><!--]--><!----><span data-v-7aef3d92>2026</span><!--[--><!--]--></a></div></div><div class="content" data-v-28354aa7><div class="content-body" data-v-28354aa7><!--[--><!--]--><div class="VPNavBarSearch search" data-v-28354aa7><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-28354aa7 data-v-ac871bc4><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-ac871bc4 data-v-f556f0c8 data-v-0f2dd873><span class="check" data-v-0f2dd873><span class="icon" data-v-0f2dd873><!--[--><span class="vpi-sun sun" data-v-f556f0c8></span><span class="vpi-moon moon" data-v-f556f0c8></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-28354aa7 data-v-554c9a17 data-v-195e553c><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-195e553c><span class="vpi-more-horizontal icon" data-v-195e553c></span></button><div class="menu" data-v-195e553c><div class="VPMenu" data-v-195e553c data-v-d91ff435><!----><!--[--><!--[--><!----><div class="group" data-v-554c9a17><div class="item appearance" data-v-554c9a17><p class="label" data-v-554c9a17>Appearance</p><div class="appearance-action" data-v-554c9a17><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-554c9a17 data-v-f556f0c8 data-v-0f2dd873><span class="check" data-v-0f2dd873><span class="icon" data-v-0f2dd873><!--[--><span class="vpi-sun sun" data-v-f556f0c8></span><span class="vpi-moon moon" data-v-f556f0c8></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-28354aa7 data-v-c95a1bd1><span class="container" data-v-c95a1bd1><span class="top" data-v-c95a1bd1></span><span class="middle" data-v-c95a1bd1></span><span class="bottom" data-v-c95a1bd1></span></span></button></div></div></div></div><div class="divider" data-v-28354aa7><div class="divider-line" data-v-28354aa7></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-7e31dfad data-v-d1d97dc0><div class="container" data-v-d1d97dc0><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-d1d97dc0><span class="vpi-align-left menu-icon" data-v-d1d97dc0></span><span class="menu-text" data-v-d1d97dc0>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-d1d97dc0 data-v-4833277d><button data-v-4833277d>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-7e31dfad data-v-3fd06dd3><div class="curtain" data-v-3fd06dd3></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-3fd06dd3><span class="visually-hidden" id="sidebar-aria-label" data-v-3fd06dd3> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-efbd6156><section class="VPSidebarItem level-0 collapsible" data-v-efbd6156 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h2 class="text" data-v-46688d19>目录</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-1 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/" data-v-46688d19><!--[--><p class="text" data-v-46688d19>引序</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>Web 编辑器与协同</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/01-editor-architecture" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器：核心架构与“轮点”演进</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/02-collaboration-crdt-ot" data-v-46688d19><!--[--><p class="text" data-v-46688d19>协同编辑：CRDT vs OT 的工程取舍（以及富文本的坑）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/03-plugin-system" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器插件体系：可扩展、可治理、可兜底</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/04-doc-storage-and-indexes" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器的数据怎么存：Rope、Piece Table、区间树与红黑树</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/05-versioning-and-incremental-sync" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Web 编辑器如何增量提交与版本管理：op log、快照与可回放系统</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/06-open-source-editors-comparison" data-v-46688d19><!--[--><p class="text" data-v-46688d19>开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/07-fonts-history-and-secrets" data-v-46688d19><!--[--><p class="text" data-v-46688d19>字体发展史与字体的秘密：从 OpenType 到编辑器排版管线</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/08-images-history-and-secrets" data-v-46688d19><!--[--><p class="text" data-v-46688d19>图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/09-layout-algorithms-constraint" data-v-46688d19><!--[--><p class="text" data-v-46688d19>约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/10-unicode-linebreak-bidi-grapheme" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/11-hit-testing-and-event-system" data-v-46688d19><!--[--><p class="text" data-v-46688d19>点击测试（Hit Testing）与事件系统：从坐标到交互闭环</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/web-editor/12-rendering-graphics-details" data-v-46688d19><!--[--><p class="text" data-v-46688d19>渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>浏览器底层与图形渲染</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/01-chromium-architecture-processes-and-threads" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Chromium 架构总览：多进程与线程模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/02-blink-lifecycle-style-layout-paint" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Blink 生命周期：style/layout/paint 与无效化</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/03-cc-compositor-commit-activate-draw" data-v-46688d19><!--[--><p class="text" data-v-46688d19>cc 合成体系：两棵树、属性树与同步点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/04-viz-gpu-and-present-to-screen" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Viz/GPU/上屏：surface、buffer 与显示路径</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/05-input-latency-scroll-and-hit-test" data-v-46688d19><!--[--><p class="text" data-v-46688d19>输入与滚动：事件路由、命中与延迟下限</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/06-v8-for-frontend-hiddenclass-ic-gc" data-v-46688d19><!--[--><p class="text" data-v-46688d19>V8 细节（前端视角）：优化、deopt 与 GC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/07-workers-offscreen-canvas-and-transfer-cost" data-v-46688d19><!--[--><p class="text" data-v-46688d19>Worker：收益边界、OffscreenCanvas 与通信成本</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/08-performance-tracing-devtools-perfetto" data-v-46688d19><!--[--><p class="text" data-v-46688d19>可观测：DevTools、Tracing/Perfetto 与归因方法</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/browser-rendering/09-frontend-levers-css-composite-paint-budget" data-v-46688d19><!--[--><p class="text" data-v-46688d19>前端对照表：哪些写法对应哪条渲染管线</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>AI 碎碎念</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/01-ml-dl-basics-for-engineers" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 01：机器学习与深度学习的浅尝即止（工程师够用版）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/02-diffusion-models-primer" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 02：扩散模型从 DDPM 到 DiT（用类比讲清楚加噪与去噪）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/03-ecommerce-diffusion-practice" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 03：电商里的扩散模型折腾记（Mask、Inpaint、Outpaint 到虚拟试衣）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/04-llm-primer-for-engineers" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 04：LLM 够用版原理（Transformer、上下文与概率）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/05-ecommerce-llm-agent-practice" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 05：电商里的 LLM 落地（Agent、Prompt 与 A2UI）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/06-ai-positioning-and-engineering-playbook" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 06：我的定位与工程人的做法（不神化，不自卑）</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ai-chitchat/07-vibecoding-three-horses-faster" data-v-46688d19><!--[--><p class="text" data-v-46688d19>AI 碎碎念 07：从 Vibe Coding 到 Spec-Driven Dev：四个轮子复刻 Faster</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-46688d19 data-v-46688d19><div class="item" role="button" tabindex="0" data-v-46688d19><div class="indicator" data-v-46688d19></div><h3 class="text" data-v-46688d19>工作的碎碎念</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-46688d19><span class="vpi-chevron-right caret-icon" data-v-46688d19></span></div></div><div class="items" data-v-46688d19><!--[--><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ten-years/2025-core-plus-plugins" data-v-46688d19><!--[--><p class="text" data-v-46688d19>为什么重交互产品都长成 Core + Plugins</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ten-years/2025-release-patterns" data-v-46688d19><!--[--><p class="text" data-v-46688d19>四种发版节奏对比</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-46688d19 data-v-46688d19><div class="item" data-v-46688d19><div class="indicator" data-v-46688d19></div><a class="VPLink link link" href="/ten-years/2025" data-v-46688d19><!--[--><p class="text" data-v-46688d19>2025：十年再回首我的工作经历</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-7e31dfad data-v-cfc5462b><div class="VPDoc has-sidebar has-aside" data-v-cfc5462b data-v-55d9feae><!--[--><!--]--><div class="container" data-v-55d9feae><div class="aside" data-v-55d9feae><div class="aside-curtain" data-v-55d9feae></div><div class="aside-container" data-v-55d9feae><div class="aside-content" data-v-55d9feae><div class="VPDocAside" data-v-55d9feae data-v-af649e6a><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-af649e6a data-v-bc4063f9><div class="content" data-v-bc4063f9><div class="outline-marker" data-v-bc4063f9></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-bc4063f9>On this page</div><ul class="VPDocOutlineItem root" data-v-bc4063f9 data-v-9f82df79><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-af649e6a></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-55d9feae><div class="content-container" data-v-55d9feae><!--[--><!--]--><main class="main" data-v-55d9feae><div style="position:relative;" class="vp-doc _web-editor___outline" data-v-55d9feae><div><blockquote><p>Web 编辑器看起来是前端，究其根本是“输入 + 状态 + 渲染”三条管道的长期战争。</p></blockquote><h2 id="_1-一级-核心架构-含架构图" tabindex="-1">1. 一级：核心架构（含架构图） <a class="header-anchor" href="#_1-一级-核心架构-含架构图" aria-label="Permalink to &quot;1. 一级：核心架构（含架构图）&quot;">​</a></h2><h3 id="_1-1-架构总览-从-dom-到-document-model" tabindex="-1">1.1 架构总览：从 DOM 到 Document Model <a class="header-anchor" href="#_1-1-架构总览-从-dom-到-document-model" aria-label="Permalink to &quot;1.1 架构总览：从 DOM 到 Document Model&quot;">​</a></h3><ul><li>目标：解释“编辑器为什么不是 DOM 上的几个 <code>contenteditable</code> hack”</li><li>输出物： <ul><li>架构图（数据流 / 事件流 / 渲染流）</li><li>主流方案对比表（ProseMirror / Slate / Lexical / Quill）</li><li>性能与稳定性边界：大文档、复杂节点、输入法、协同</li></ul></li></ul><h3 id="_1-2-三条主线-输入、状态、渲染" tabindex="-1">1.2 三条主线：输入、状态、渲染 <a class="header-anchor" href="#_1-2-三条主线-输入、状态、渲染" aria-label="Permalink to &quot;1.2 三条主线：输入、状态、渲染&quot;">​</a></h3><ul><li>输入线：IME / composition / clipboard / keymap</li><li>状态线：Schema / Transaction / History</li><li>渲染线：View layer（DOM / Canvas / hybrid）与 diff 策略</li></ul><h3 id="_1-3-事实、约束与不变量" tabindex="-1">1.3 事实、约束与不变量 <a class="header-anchor" href="#_1-3-事实、约束与不变量" aria-label="Permalink to &quot;1.3 事实、约束与不变量&quot;">​</a></h3><ul><li>事实来源：DOM 不是事实，文档模型才是事实</li><li>不变量：schema 校验、位置映射正确性、事务可回放</li><li>可观测性：每次 transaction 的范围、耗时、产物与失败原因</li></ul><h3 id="_1-4-轮点-定义-编辑器的演进里程碑" tabindex="-1">1.4 “轮点”定义：编辑器的演进里程碑 <a class="header-anchor" href="#_1-4-轮点-定义-编辑器的演进里程碑" aria-label="Permalink to &quot;1.4 “轮点”定义：编辑器的演进里程碑&quot;">​</a></h3><ul><li>轮点 0：<code>contenteditable</code> + DOM 操作（快，但不可控）</li><li>轮点 1：以“文档模型”为中心（可控，但需要成本）</li><li>轮点 2：协同成为第一公民（CRDT/OT）</li><li>轮点 3：AI/Agent 成为交互入口（上下文/选区驱动）</li></ul><h2 id="_2-二级-功能模块-编辑器内核-协同编辑-插件体系等" tabindex="-1">2. 二级：功能模块（编辑器内核/协同编辑/插件体系等） <a class="header-anchor" href="#_2-二级-功能模块-编辑器内核-协同编辑-插件体系等" aria-label="Permalink to &quot;2. 二级：功能模块（编辑器内核/协同编辑/插件体系等）&quot;">​</a></h2><h3 id="_2-1-编辑器内核-kernel" tabindex="-1">2.1 编辑器内核（Kernel） <a class="header-anchor" href="#_2-1-编辑器内核-kernel" aria-label="Permalink to &quot;2.1 编辑器内核（Kernel）&quot;">​</a></h3><ul><li>文档模型：树/片段/Schema（约束 &amp; 可扩展）</li><li>事务系统：Transaction / Step / Mapping（可回放、可合并）</li><li>历史系统：Undo/Redo、合并策略、压缩策略</li><li>选区系统：Selection / NodeSelection / GapCursor（边界条件：表格、不可编辑节点）</li></ul><h3 id="_2-1-1-输入系统-野生动物园" tabindex="-1">2.1.1 输入系统：野生动物园 <a class="header-anchor" href="#_2-1-1-输入系统-野生动物园" aria-label="Permalink to &quot;2.1.1 输入系统：野生动物园&quot;">​</a></h3><h4 id="_2-1-1-1-ime-composition-输入法为什么会-接管-编辑器" tabindex="-1">2.1.1.1 IME / composition：输入法为什么会“接管”编辑器 <a class="header-anchor" href="#_2-1-1-1-ime-composition-输入法为什么会-接管-编辑器" aria-label="Permalink to &quot;2.1.1.1 IME / composition：输入法为什么会“接管”编辑器&quot;">​</a></h4><ul><li>IME 全称：Input Method Editor。目标是把“按键序列”变成“文字”，尤其适用于拼音、注音、日文假名、韩文、以及各种带候选窗口的输入方式</li><li>为什么需要：很多语言的输入不是“一次按键 = 一个字符”，而是“多次按键 → 候选 → 确认上屏”，浏览器必须暴露中间态与确认态</li><li>常见事件序列（不同浏览器/平台会变形）： <ul><li>compositionstart/compositionupdate/compositionend：表示中间态的开始/更新/结束</li><li>beforeinput/input：表示浏览器即将/已经对 DOM 做了变更（有时并不对应最终上屏）</li></ul></li><li>关键概念：composition range（中间态范围）、confirmed text（确认态文本）、candidate window（候选窗）与 caret（光标）之间的时序关系</li><li>典型坑： <ul><li>“你以为的 keydown”失效：IME 期间很多按键用于候选选择/翻页，浏览器不会按普通输入分发</li><li>selection 不稳定：IME 会临时改变选区/插入点，编辑器强行 setSelection 容易导致中间态丢失或重复上屏</li><li>DOM 与 model 的双写冲突：浏览器先改 DOM，中间态又被框架回写，出现字符回滚、重复、错位</li><li>组合输入与撤销：composition 的提交边界不等价于一次 transaction 的边界，做不好会出现“撤销把候选也撤了/撤不干净”</li><li>Safari/iOS 特例多：事件缺失、顺序不同、beforeinput 语义不完整、中文输入与自动纠错叠加</li></ul></li><li>为什么不同浏览器难统一： <ul><li>输入法是 OS 层实现，浏览器只是“桥”，不同平台暴露的能力与安全边界不同</li><li>标准（composition/beforeinput）只定义了部分语义，真实实现受历史兼容与编辑引擎差异影响</li></ul></li></ul><h4 id="_2-1-1-2-clipboard-paste-为什么会涉及数据清洗、解析-甚至语法分析" tabindex="-1">2.1.1.2 Clipboard / paste：为什么会涉及数据清洗、解析，甚至语法分析 <a class="header-anchor" href="#_2-1-1-2-clipboard-paste-为什么会涉及数据清洗、解析-甚至语法分析" aria-label="Permalink to &quot;2.1.1.2 Clipboard / paste：为什么会涉及数据清洗、解析，甚至语法分析&quot;">​</a></h4><ul><li>为什么粘贴不是“插入一段字符串”： <ul><li>clipboard 里同时存在多种 representation：text/plain、text/html、image、RTF，以及应用自定义格式</li><li>复制源的语义差异极大：网页、Office、飞书/Notion、代码编辑器、PDF，都可能生成结构完全不同的内容</li></ul></li><li>为什么需要清洗（sanitize）： <ul><li>安全：XSS、href/javascript:、style 注入、危险属性与事件处理器</li><li>结构：嵌套错乱、无效标签、奇怪的内联样式、不可控的 class/attribute，容易把编辑器 schema 撑爆</li></ul></li><li>为什么需要解析（parse）与“语法分析”： <ul><li>HTML 是树结构，需要解析成 DOM/AST，才能做 schema 映射、合并、归一化</li><li>粘贴“代码块/表格/公式/列表”时，需要从文本或 HTML 里恢复结构语义（例如 fenced code、markdown table、list continuation）</li></ul></li><li>Office OOXML 简介（理解“为什么粘贴这么脏”）： <ul><li>OOXML 是 Office 文档的打包格式，本质是一个 zip 包，内部是多份 XML（例如 <code>word/document.xml</code>）加上关系文件与资源</li><li>复制到浏览器时通常不会直接给你 OOXML，而会给“带大量 Office 特征的 HTML/RTF”，包含 style、mso-* 属性、以及各种为排版服务的标记</li></ul></li><li>一个更稳的 paste pipeline： <ul><li>格式选择：优先 html，其次 plain text，再兜底图片/文件</li><li>清洗：白名单标签/属性、URL 清洗、样式降级</li><li>解析：HTML → DOM/AST → editor nodes（按 schema 映射）</li><li>归一化：合并相邻文本、修正嵌套、表格/列表结构修复、去除不可表达语义</li><li>粘贴规则：在不同 selection/上下文（列表内、表格内、标题内）做不同落地策略</li></ul></li><li>常见通用库（按思路分类）： <ul><li>HTML sanitize：DOMPurify、sanitize-html</li><li>HTML parser/AST：parse5、rehype</li><li>编辑器框架内置 parser：ProseMirror DOMParser / paste rules、Lexical clipboard pipelines</li></ul></li></ul><h4 id="_2-1-1-3-keymap-局部与全局-如何处理优先级-pipeline" tabindex="-1">2.1.1.3 Keymap：局部与全局，如何处理优先级 pipeline <a class="header-anchor" href="#_2-1-1-3-keymap-局部与全局-如何处理优先级-pipeline" aria-label="Permalink to &quot;2.1.1.3 Keymap：局部与全局，如何处理优先级 pipeline&quot;">​</a></h4><ul><li>局部 vs 全局： <ul><li>全局：应用级快捷键（例如保存、发布、打开命令面板）</li><li>局部：编辑器范围内的快捷键（bold/italic、split block、indent/outdent、table 操作）</li></ul></li><li>优先级 pipeline（一个可解释、可治理的顺序）： <ul><li>先编辑器局部，再上浮到全局；局部内部再按“上下文更具体者优先”（例如 table cell keymap &gt; list keymap &gt; default keymap）</li><li>插件之间按 priority 排序，支持可观测：命中了哪条规则、为什么命中、是否阻止默认行为</li></ul></li><li>典型坑： <ul><li>平台差异：Ctrl vs Meta、AltGraph、Dead keys，导致同一组合键在不同键盘布局语义不同</li><li>输入法期间：composition 中抢快捷键容易打断候选</li><li>NodeView/iframe 内：事件冒泡/焦点边界导致 keydown 丢失</li><li>浏览器默认行为：撤销/重做、Tab 导航、Backspace 导航（历史遗留）需要明确策略</li></ul></li></ul><h4 id="_2-1-1-4-光标一致性-它和-hit-testing-的关系-以及为什么要重视输入连贯性" tabindex="-1">2.1.1.4 光标一致性：它和 hit testing 的关系，以及为什么要重视输入连贯性 <a class="header-anchor" href="#_2-1-1-4-光标一致性-它和-hit-testing-的关系-以及为什么要重视输入连贯性" aria-label="Permalink to &quot;2.1.1.4 光标一致性：它和 hit testing 的关系，以及为什么要重视输入连贯性&quot;">​</a></h4><ul><li>光标一致性是什么： <ul><li>用户看到的 caret/selection，必须稳定映射到文档模型的位置（position），并在每次变更后可预测地更新</li></ul></li><li>与 hit testing 的关系： <ul><li>hit testing 决定“点哪里算哪里”：从屏幕坐标反查到文档位置</li><li>光标一致性决定“变更后光标在哪里”：事务/映射（mapping）把旧位置映射到新位置</li><li>二者合起来才是完整闭环：pointer → position → transaction → new position → paint</li></ul></li><li>iPad / PC / 移动端差异（体验与工程实践）： <ul><li>iPad：系统选区拖拽手柄、长按选词、输入建议/自动纠错更强，selection 时序更“系统接管”</li><li>手机：软键盘遮挡视口，scroll into view 与 selection 更新互相拉扯；长按/双击选择经常伴随滚动与放大镜</li><li>PC：鼠标精确点击更多，但也有拖拽选择、跨块选择、组合键导航等复杂交互</li></ul></li><li>如何保障输入连贯性（焦点总是期望在编辑内容上）： <ul><li>工具栏/浮层交互不应该导致 editor blur，必要时用 pointerdown/mousedown 策略保住焦点</li><li>任何异步更新（协同/图片上传/公式重算）都需要保持 selection 可回放、可恢复</li><li>将“焦点丢失/光标跳动”作为一等故障：可观测、可复现、可归因</li></ul></li><li>为什么要看重输入连贯性： <ul><li>它是编辑器体验的底线：一旦光标跳或焦点丢，用户会立刻不信任编辑器，后续所有“高级功能”都变成负担</li><li>它是可扩展性的前置条件：没有稳定 selection，你无法稳住插件、协同、表格、复杂节点的行为一致性</li></ul></li></ul><h3 id="_2-2-协同编辑-collaboration" tabindex="-1">2.2 协同编辑（Collaboration） <a class="header-anchor" href="#_2-2-协同编辑-collaboration" aria-label="Permalink to &quot;2.2 协同编辑（Collaboration）&quot;">​</a></h3><ul><li>同步模型：客户端/服务端、房间、快照、增量、重放</li><li>冲突处理：文本/富文本/表格的冲突并不等价</li><li>离线与重连：版本向量、补洞、压缩</li><li>观测与排障：op 日志、回放、校验、告警</li></ul><h3 id="_2-3-插件体系-plugin-system" tabindex="-1">2.3 插件体系（Plugin System） <a class="header-anchor" href="#_2-3-插件体系-plugin-system" aria-label="Permalink to &quot;2.3 插件体系（Plugin System）&quot;">​</a></h3><ul><li>插件生命周期：init → apply → view → destroy</li><li>扩展点：输入规则、装饰器、命令、节点视图</li><li>隔离：沙箱、权限、性能预算、异常兜底</li><li>生态：插件仓库、版本兼容矩阵、迁移策略</li></ul><h3 id="_2-4-工程化与质量-engineering" tabindex="-1">2.4 工程化与质量（Engineering） <a class="header-anchor" href="#_2-4-工程化与质量-engineering" aria-label="Permalink to &quot;2.4 工程化与质量（Engineering）&quot;">​</a></h3><ul><li>性能：长文档、批量操作、渲染抖动、内存增长</li><li>异常：IME/剪贴板/浏览器差异、脏数据、插件崩溃</li><li>兼容：移动端、可访问性（a11y）、国际化（i18n）</li></ul><h3 id="_2-5-可测试性与排障" tabindex="-1">2.5 可测试性与排障 <a class="header-anchor" href="#_2-5-可测试性与排障" aria-label="Permalink to &quot;2.5 可测试性与排障&quot;">​</a></h3><ul><li>单测：step/apply/mapping 的确定性测试</li><li>回放：oplog + snapshot 的可复现能力</li><li>线上指标：输入失败率、撤销失败率、渲染耗时分布、崩溃率</li></ul><h2 id="_3-三级-技术实现-crdt算法-ot算法-dom-diff等" tabindex="-1">3. 三级：技术实现（CRDT算法/OT算法/DOM diff等） <a class="header-anchor" href="#_3-三级-技术实现-crdt算法-ot算法-dom-diff等" aria-label="Permalink to &quot;3. 三级：技术实现（CRDT算法/OT算法/DOM diff等）&quot;">​</a></h2><h3 id="_3-0-文档存储与索引-从-能存-到-能快" tabindex="-1">3.0 文档存储与索引：从“能存”到“能快” <a class="header-anchor" href="#_3-0-文档存储与索引-从-能存-到-能快" aria-label="Permalink to &quot;3.0 文档存储与索引：从“能存”到“能快”&quot;">​</a></h3><ul><li>文本存储：Rope / Piece Table / Gap Buffer（适用场景与取舍）</li><li>结构存储：树（Node/Fragment）与扁平化索引（position mapping）</li><li>区间索引：Interval Tree / Segment Tree（装饰器、标注、命中范围）</li><li>红黑树作用：维护有序区间集合、支持增删查的稳定复杂度（以及工程层的常数项）</li></ul><h3 id="_3-1-crdt-从-可交换-到-可落地" tabindex="-1">3.1 CRDT：从“可交换”到“可落地” <a class="header-anchor" href="#_3-1-crdt-从-可交换-到-可落地" aria-label="Permalink to &quot;3.1 CRDT：从“可交换”到“可落地”&quot;">​</a></h3><ul><li>文本 CRDT：RGA/WOOT/Logoot/LSEQ（思路与坑）</li><li>富文本 CRDT：属性、标记范围、结构操作（树 CRDT 的难点）</li><li>工程要点：压缩、垃圾回收、持久化、回放</li></ul><h3 id="_3-2-ot-从-操作变换-到-工程一致性" tabindex="-1">3.2 OT：从“操作变换”到“工程一致性” <a class="header-anchor" href="#_3-2-ot-从-操作变换-到-工程一致性" aria-label="Permalink to &quot;3.2 OT：从“操作变换”到“工程一致性”&quot;">​</a></h3><ul><li>文本 OT：变换函数、意图保持（TP1/TP2）</li><li>富文本 OT：结构变换、可组合性、边界条件</li><li>工程要点：中心化 vs 去中心化、服务端权威、回放与校验</li></ul><h3 id="_3-3-增量提交与版本管理-从-能同步-到-可追责" tabindex="-1">3.3 增量提交与版本管理：从“能同步”到“可追责” <a class="header-anchor" href="#_3-3-增量提交与版本管理-从-能同步-到-可追责" aria-label="Permalink to &quot;3.3 增量提交与版本管理：从“能同步”到“可追责”&quot;">​</a></h3><ul><li>增量提交：op log、batch、debounce、提交边界（输入法/粘贴/批量变更）</li><li>版本管理：revision / vector clock / lamport clock（各自解决什么问题）</li><li>快照策略：snapshot + oplog window、压缩（compaction）、校验（checksum）</li><li>回放与排障：deterministic replay、最小复现、数据一致性对账</li></ul><h3 id="_3-4-dom-diff-与渲染策略" tabindex="-1">3.4 DOM diff 与渲染策略 <a class="header-anchor" href="#_3-4-dom-diff-与渲染策略" aria-label="Permalink to &quot;3.4 DOM diff 与渲染策略&quot;">​</a></h3><ul><li>View 层：DOM / Canvas / Hybrid</li><li>diff：按节点、按范围、按装饰器层</li><li>性能策略：批量更新、分帧、惰性计算、视口裁剪</li></ul><h3 id="_3-5-排版与布局算法-从-排得出来-到-排得好" tabindex="-1">3.5 排版与布局算法：从“排得出来”到“排得好” <a class="header-anchor" href="#_3-5-排版与布局算法-从-排得出来-到-排得好" aria-label="Permalink to &quot;3.5 排版与布局算法：从“排得出来”到“排得好”&quot;">​</a></h3><ul><li>约束布局（constraint-based layout）：求解与增量更新</li><li>行内排版：断行（line breaking）、字距/字偶距（kerning）与指标（metrics）</li><li>典型算法：Knuth-Plass、Flexbox、Grid、简单流式布局与表格布局</li></ul><h3 id="_3-6-点击测试-hit-testing-从-点得到-到-点得准" tabindex="-1">3.6 点击测试（Hit Testing）：从“点得到”到“点得准” <a class="header-anchor" href="#_3-6-点击测试-hit-testing-从-点得到-到-点得准" aria-label="Permalink to &quot;3.6 点击测试（Hit Testing）：从“点得到”到“点得准”&quot;">​</a></h3><ul><li>点击测试是什么：从屏幕坐标反查文档位置（node/offset/selection）</li><li>优化思路：二分（按行/按 run）、空间索引（R-Tree/Interval Tree）、分层命中</li><li>基于 hit testing 构建系统：scene graph、可交互对象模型、事件分发与冒泡</li></ul><h3 id="_3-7-媒体与渲染-字体、图片与渲染管线" tabindex="-1">3.7 媒体与渲染：字体、图片与渲染管线 <a class="header-anchor" href="#_3-7-媒体与渲染-字体、图片与渲染管线" aria-label="Permalink to &quot;3.7 媒体与渲染：字体、图片与渲染管线&quot;">​</a></h3><ul><li>字体：历史、OpenType/WOFF2、shaping/layout/render 的分层</li><li>图片：历史、JPEG/PNG/WebP/AVIF、色彩空间、解码与渲染成本</li><li>渲染后端：HTML/CSS、Canvas、WebGL/WebGPU 的取舍（你接管多少系统能力）</li><li>图形学细节：矩阵/坐标系、Shader、CPU/GPU 分工、tiling 瓦片化与缓存</li></ul><h3 id="_3-8-轮点-在实现层的映射" tabindex="-1">3.8 “轮点”在实现层的映射 <a class="header-anchor" href="#_3-8-轮点-在实现层的映射" aria-label="Permalink to &quot;3.8 “轮点”在实现层的映射&quot;">​</a></h3><ul><li>轮点 1：文档模型与事务成为可回放的“事实”</li><li>轮点 2：操作日志成为协同与排障的统一载体</li><li>轮点 3：上下文窗口（selection + doc slice）成为 AI 的输入格式</li></ul><h2 id="_4-典型难题清单-专题深水区" tabindex="-1">4. 典型难题清单（专题深水区） <a class="header-anchor" href="#_4-典型难题清单-专题深水区" aria-label="Permalink to &quot;4. 典型难题清单（专题深水区）&quot;">​</a></h2><ul><li>selection mapping：变更后光标为什么会跳，怎么证明“没跳错”</li><li>schema 约束：如何既可扩展又能兜住脏数据</li><li>性能预算：长文档 + 装饰器 + 协同叠加下如何稳住 60FPS</li><li>可回放：线上事故如何最小复现，如何对账一致性</li></ul><h2 id="_5-章节清单-按-order-topic-md-命名" tabindex="-1">5. 章节清单（按 <code>[order]-[topic].md</code> 命名） <a class="header-anchor" href="#_5-章节清单-按-order-topic-md-命名" aria-label="Permalink to &quot;5. 章节清单（按 `[order]-[topic].md` 命名）&quot;">​</a></h2><ul><li><a href="./01-editor-architecture">01-editor-architecture.md</a>：核心架构与“轮点”演进（含对比表）</li><li><a href="./02-collaboration-crdt-ot">02-collaboration-crdt-ot.md</a>：协同编辑：CRDT vs OT 的工程取舍</li><li><a href="./03-plugin-system">03-plugin-system.md</a>：插件体系：可扩展、可治理、可兜底</li><li><a href="./04-doc-storage-and-indexes">04-doc-storage-and-indexes.md</a>：文档如何存：Rope/PieceTable/区间树/红黑树</li><li><a href="./05-versioning-and-incremental-sync">05-versioning-and-incremental-sync.md</a>：增量提交与版本管理：op log、快照与可回放系统</li><li><a href="./06-open-source-editors-comparison">06-open-source-editors-comparison.md</a>：开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill</li><li><a href="./07-fonts-history-and-secrets">07-fonts-history-and-secrets.md</a>：字体发展史与字体的秘密：从 OpenType 到编辑器排版管线</li><li><a href="./08-images-history-and-secrets">08-images-history-and-secrets.md</a>：图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能</li><li><a href="./09-layout-algorithms-constraint">09-layout-algorithms-constraint.md</a>：约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”</li><li><a href="./10-unicode-linebreak-bidi-grapheme">10-unicode-linebreak-bidi-grapheme.md</a>：Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break</li><li><a href="./11-hit-testing-and-event-system">11-hit-testing-and-event-system.md</a>：点击测试与事件系统：从坐标到交互闭环</li><li><a href="./12-rendering-graphics-details">12-rendering-graphics-details.md</a>：渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）</li></ul></div></div></main><footer class="VPDocFooter" data-v-55d9feae data-v-56184811><!--[--><!--]--><div class="edit-info" data-v-56184811><!----><div class="last-updated" data-v-56184811><p class="VPLastUpdated" data-v-56184811 data-v-849a375e>Last updated: <time datetime="2026-01-23T18:39:13.000Z" data-v-849a375e></time></p></div></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-56184811><span class="visually-hidden" id="doc-footer-aria-label" data-v-56184811>Pager</span><div class="pager" data-v-56184811><!----></div><div class="pager" data-v-56184811><a class="VPLink link pager-link next" href="/" data-v-56184811><!--[--><span class="desc" data-v-56184811>Next page</span><span class="title" data-v-56184811>引序</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about.md\":\"BOuT5Xqj\",\"about.prev.md\":\"BQgxr-AH\",\"about.reference.md\":\"7t6c_gbk\",\"ai-chitchat_01-ml-dl-basics-for-engineers.md\":\"CSGKLUmh\",\"ai-chitchat_02-diffusion-models-primer.md\":\"CgXvcQH6\",\"ai-chitchat_03-ecommerce-diffusion-practice.md\":\"DNuKoPoL\",\"ai-chitchat_04-llm-primer-for-engineers.md\":\"DFj5j7et\",\"ai-chitchat_05-ecommerce-llm-agent-practice.md\":\"2OVUGGlq\",\"ai-chitchat_06-ai-positioning-and-engineering-playbook.md\":\"DOY1c6D9\",\"ai-chitchat_07-vibecoding-three-horses-faster.md\":\"Ckw94XWx\",\"ai-chitchat___outline.md\":\"BemGlInV\",\"browser-rendering_01-chromium-architecture-processes-and-threads.md\":\"DGnUA3U4\",\"browser-rendering_02-blink-lifecycle-style-layout-paint.md\":\"ZIXhYsvb\",\"browser-rendering_03-cc-compositor-commit-activate-draw.md\":\"Cex6WzAq\",\"browser-rendering_04-viz-gpu-and-present-to-screen.md\":\"ChNkp0-R\",\"browser-rendering_05-input-latency-scroll-and-hit-test.md\":\"eyEnLM1m\",\"browser-rendering_06-v8-for-frontend-hiddenclass-ic-gc.md\":\"CDR1x51v\",\"browser-rendering_07-workers-offscreen-canvas-and-transfer-cost.md\":\"CqWrNVIC\",\"browser-rendering_08-performance-tracing-devtools-perfetto.md\":\"AtPS6R68\",\"browser-rendering_09-frontend-levers-css-composite-paint-budget.md\":\"CkrrnGje\",\"browser-rendering___outline.md\":\"Bv1SlDU_\",\"data-systems___outline.md\":\"BmGU4eM0\",\"ds-algorithms___outline.md\":\"4wxr6wUW\",\"frontend-architecture___outline.md\":\"Cdxl7-6Z\",\"index.md\":\"CWShnum0\",\"js-core___outline.md\":\"DMBo0gev\",\"okr_2021.md\":\"Cxlsal38\",\"okr_2022.md\":\"DfSlpXrp\",\"okr_2023.md\":\"C2u0sLp9\",\"okr_2024.md\":\"BYqUlAws\",\"performance___outline.md\":\"DNRdWFUF\",\"ten-years_2025-core-plus-plugins.md\":\"v7DR0KfE\",\"ten-years_2025-release-patterns.md\":\"DQrIb2jd\",\"ten-years_2025.md\":\"Bclmut9b\",\"web-editor_01-editor-architecture.md\":\"lRsdKxVi\",\"web-editor_02-collaboration-crdt-ot.md\":\"C942o2Qf\",\"web-editor_03-plugin-system.md\":\"DNyk1ILk\",\"web-editor_04-doc-storage-and-indexes.md\":\"DzdXlCjz\",\"web-editor_05-versioning-and-incremental-sync.md\":\"hIpenErk\",\"web-editor_06-open-source-editors-comparison.md\":\"DDGZ3jWP\",\"web-editor_07-fonts-history-and-secrets.md\":\"BfZHC_lv\",\"web-editor_08-images-history-and-secrets.md\":\"DPcy_uLE\",\"web-editor_09-layout-algorithms-constraint.md\":\"DplBRr8f\",\"web-editor_10-unicode-linebreak-bidi-grapheme.md\":\"BEMy2SAO\",\"web-editor_11-hit-testing-and-event-system.md\":\"MqCg7gRd\",\"web-editor_12-rendering-graphics-details.md\":\"D01JXebS\",\"web-editor___outline.md\":\"DI1aAM5K\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"2026\",\"description\":\"Book preview from source/_posts/2026\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"sidebar\":[{\"text\":\"目录\",\"collapsed\":false,\"items\":[{\"text\":\"引序\",\"link\":\"/\"},{\"text\":\"Web 编辑器与协同\",\"collapsed\":true,\"items\":[{\"text\":\"Web 编辑器：核心架构与“轮点”演进\",\"link\":\"/web-editor/01-editor-architecture\"},{\"text\":\"协同编辑：CRDT vs OT 的工程取舍（以及富文本的坑）\",\"link\":\"/web-editor/02-collaboration-crdt-ot\"},{\"text\":\"Web 编辑器插件体系：可扩展、可治理、可兜底\",\"link\":\"/web-editor/03-plugin-system\"},{\"text\":\"Web 编辑器的数据怎么存：Rope、Piece Table、区间树与红黑树\",\"link\":\"/web-editor/04-doc-storage-and-indexes\"},{\"text\":\"Web 编辑器如何增量提交与版本管理：op log、快照与可回放系统\",\"link\":\"/web-editor/05-versioning-and-incremental-sync\"},{\"text\":\"开源 Web 富文本横向对比：tiptap / ProseMirror / Slate / Lexical / Quill\",\"link\":\"/web-editor/06-open-source-editors-comparison\"},{\"text\":\"字体发展史与字体的秘密：从 OpenType 到编辑器排版管线\",\"link\":\"/web-editor/07-fonts-history-and-secrets\"},{\"text\":\"图片发展史与图片的秘密：格式、解码、色彩空间与编辑器性能\",\"link\":\"/web-editor/08-images-history-and-secrets\"},{\"text\":\"约束布局与排版算法：编辑器如何把“文档”排成“可交互的版面”\",\"link\":\"/web-editor/09-layout-algorithms-constraint\"},{\"text\":\"Unicode 行内排版三件套：Line Break / Bidi / Grapheme Break\",\"link\":\"/web-editor/10-unicode-linebreak-bidi-grapheme\"},{\"text\":\"点击测试（Hit Testing）与事件系统：从坐标到交互闭环\",\"link\":\"/web-editor/11-hit-testing-and-event-system\"},{\"text\":\"渲染图形学细节：矩阵、Shader、CPU/GPU 与瓦片化（Tiling）\",\"link\":\"/web-editor/12-rendering-graphics-details\"}]},{\"text\":\"浏览器底层与图形渲染\",\"collapsed\":true,\"items\":[{\"text\":\"Chromium 架构总览：多进程与线程模型\",\"link\":\"/browser-rendering/01-chromium-architecture-processes-and-threads\"},{\"text\":\"Blink 生命周期：style/layout/paint 与无效化\",\"link\":\"/browser-rendering/02-blink-lifecycle-style-layout-paint\"},{\"text\":\"cc 合成体系：两棵树、属性树与同步点\",\"link\":\"/browser-rendering/03-cc-compositor-commit-activate-draw\"},{\"text\":\"Viz/GPU/上屏：surface、buffer 与显示路径\",\"link\":\"/browser-rendering/04-viz-gpu-and-present-to-screen\"},{\"text\":\"输入与滚动：事件路由、命中与延迟下限\",\"link\":\"/browser-rendering/05-input-latency-scroll-and-hit-test\"},{\"text\":\"V8 细节（前端视角）：优化、deopt 与 GC\",\"link\":\"/browser-rendering/06-v8-for-frontend-hiddenclass-ic-gc\"},{\"text\":\"Worker：收益边界、OffscreenCanvas 与通信成本\",\"link\":\"/browser-rendering/07-workers-offscreen-canvas-and-transfer-cost\"},{\"text\":\"可观测：DevTools、Tracing/Perfetto 与归因方法\",\"link\":\"/browser-rendering/08-performance-tracing-devtools-perfetto\"},{\"text\":\"前端对照表：哪些写法对应哪条渲染管线\",\"link\":\"/browser-rendering/09-frontend-levers-css-composite-paint-budget\"}]},{\"text\":\"AI 碎碎念\",\"collapsed\":true,\"items\":[{\"text\":\"AI 碎碎念 01：机器学习与深度学习的浅尝即止（工程师够用版）\",\"link\":\"/ai-chitchat/01-ml-dl-basics-for-engineers\"},{\"text\":\"AI 碎碎念 02：扩散模型从 DDPM 到 DiT（用类比讲清楚加噪与去噪）\",\"link\":\"/ai-chitchat/02-diffusion-models-primer\"},{\"text\":\"AI 碎碎念 03：电商里的扩散模型折腾记（Mask、Inpaint、Outpaint 到虚拟试衣）\",\"link\":\"/ai-chitchat/03-ecommerce-diffusion-practice\"},{\"text\":\"AI 碎碎念 04：LLM 够用版原理（Transformer、上下文与概率）\",\"link\":\"/ai-chitchat/04-llm-primer-for-engineers\"},{\"text\":\"AI 碎碎念 05：电商里的 LLM 落地（Agent、Prompt 与 A2UI）\",\"link\":\"/ai-chitchat/05-ecommerce-llm-agent-practice\"},{\"text\":\"AI 碎碎念 06：我的定位与工程人的做法（不神化，不自卑）\",\"link\":\"/ai-chitchat/06-ai-positioning-and-engineering-playbook\"},{\"text\":\"AI 碎碎念 07：从 Vibe Coding 到 Spec-Driven Dev：四个轮子复刻 Faster\",\"link\":\"/ai-chitchat/07-vibecoding-three-horses-faster\"}]},{\"text\":\"工作的碎碎念\",\"collapsed\":true,\"items\":[{\"text\":\"为什么重交互产品都长成 Core + Plugins\",\"link\":\"/ten-years/2025-core-plus-plugins\"},{\"text\":\"四种发版节奏对比\",\"link\":\"/ten-years/2025-release-patterns\"},{\"text\":\"2025：十年再回首我的工作经历\",\"link\":\"/ten-years/2025\"}]}]}],\"outline\":\"deep\",\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>