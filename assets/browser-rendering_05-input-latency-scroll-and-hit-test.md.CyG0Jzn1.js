import{f as a,D as r,c as o,o as s,k as t,H as n,a4 as d,a as l}from"./chunks/framework.BAs4fWuZ.js";const _=JSON.parse('{"title":"è¾“å…¥ä¸æ»šåŠ¨ï¼šäº‹ä»¶è·¯ç”±ã€å‘½ä¸­ä¸å»¶è¿Ÿä¸‹é™","description":"","frontmatter":{"title":"è¾“å…¥ä¸æ»šåŠ¨ï¼šäº‹ä»¶è·¯ç”±ã€å‘½ä¸­ä¸å»¶è¿Ÿä¸‹é™","date":"2026-01-20T00:00:00.000Z","categories":"study","tags":["browser-rendering","chromium","input","latency","scrolling","hit-test","inp"]},"headers":[],"relativePath":"browser-rendering/05-input-latency-scroll-and-hit-test.md","filePath":"browser-rendering/05-input-latency-scroll-and-hit-test.md","lastUpdated":1769026429000}'),c={name:"browser-rendering/05-input-latency-scroll-and-hit-test.md"};function m(p,e,u,h,b,I){const i=r("InkMermaidBlock");return s(),o("div",null,[e[0]||(e[0]=t("div",{class:"alert read-stats",role:"note"},[t("span",{class:"read-stats__icon","aria-hidden":"true"},"ğŸ”–"),t("span",{class:"read-stats__text"},[l("æœ¬æ–‡çº¦ "),t("b",null,"784"),l(" å­—ï¼Œé˜…è¯»é¢„è®¡è€—æ—¶ "),t("b",null,"2"),l(" åˆ†é’Ÿã€‚")])],-1)),e[1]||(e[1]=t("div",{class:"alert ai-disclosure",role:"note"},[t("span",{class:"ai-disclosure__icon","aria-hidden":"true"},"â“˜"),t("span",{class:"ai-disclosure__text"},"AI è¾…åŠ©å†™ä½œå£°æ˜ï¼šæœ¬æ–‡ç”±åšä¸»æ„æ€é€»è¾‘ï¼ŒAI è¾…åŠ©æ¶¦è‰²ï¼ŒåŒæ–¹å…±åŒæ ¡å¯¹ã€‚")],-1)),e[2]||(e[2]=t("p",null,"ç”¨æˆ·æ„ŸçŸ¥å»¶è¿Ÿçš„æœ¬è´¨æ˜¯ï¼šè¾“å…¥å‘ç”Ÿåœ¨ t0ï¼Œä½†ç³»ç»Ÿç›´åˆ° t1 æ‰æŠŠâ€œæˆ‘ç†è§£ä½ è¦å¹²ä»€ä¹ˆâ€çš„è§†è§‰åé¦ˆç”»å‡ºæ¥ã€‚æ¸²æŸ“é“¾è·¯å†å¤æ‚ï¼Œæœ€ç»ˆéƒ½è¦æ¥å—è¿™ä¸ª KPI çš„æ‹·é—®ã€‚",-1)),e[3]||(e[3]=t("p",null,"è¿™ä¸€ç« ä» Chromium è§†è§’æŠŠè¾“å…¥é“¾è·¯æ‹†å¼€ï¼šäº‹ä»¶æ€ä¹ˆä»ç³»ç»Ÿè¿›å…¥æµè§ˆå™¨ã€æ€ä¹ˆè·¯ç”±åˆ°ç›®æ ‡ frameã€æ€ä¹ˆå‘½ä¸­ã€æ»šåŠ¨ä¸ºä»€ä¹ˆå°½é‡èµ°åˆæˆçº¿ç¨‹ï¼Œä»¥åŠå‰ç«¯å¦‚ä½•æŠŠå»¶è¿Ÿæ‹†æˆå¯å½’å› çš„éƒ¨åˆ†ã€‚",-1)),e[4]||(e[4]=t("h2",{id:"_1-è¾“å…¥ä¸æ˜¯-ä¸€ä¸ªäº‹ä»¶-è€Œæ˜¯ä¸€æ¡è·¨è¿›ç¨‹ç®¡çº¿",tabindex:"-1"},[l("1. è¾“å…¥ä¸æ˜¯â€œä¸€ä¸ªäº‹ä»¶â€ï¼Œè€Œæ˜¯ä¸€æ¡è·¨è¿›ç¨‹ç®¡çº¿ "),t("a",{class:"header-anchor",href:"#_1-è¾“å…¥ä¸æ˜¯-ä¸€ä¸ªäº‹ä»¶-è€Œæ˜¯ä¸€æ¡è·¨è¿›ç¨‹ç®¡çº¿","aria-label":'Permalink to "1. è¾“å…¥ä¸æ˜¯â€œä¸€ä¸ªäº‹ä»¶â€ï¼Œè€Œæ˜¯ä¸€æ¡è·¨è¿›ç¨‹ç®¡çº¿"'},"â€‹")],-1)),e[5]||(e[5]=t("p",null,"ç²—ç²’åº¦çš„é“¾è·¯å¯ä»¥ç”»æˆè¿™æ ·ï¼š",-1)),n(i,{codeBase64:"Zmxvd2NoYXJ0IExSCiAgT1NbIk9TIGlucHV0PGJyLz50b3VjaC9tb3VzZS9rZXlib2FyZCJdIC0tPiBCcm93c2VyWyJCcm93c2VyIHByb2Nlc3M8YnIvPnJvdXRlICsgcG9saWN5Il0KICBCcm93c2VyIC0tPiBSZW5kZXJlclsiUmVuZGVyZXIgcHJvY2Vzczxici8+bWFpbi9pbXBsL3dvcmtlciJdCiAgUmVuZGVyZXIgLS0+IEJsaW5rWyJCbGluazxici8+ZGlzcGF0Y2ggKyBET00gZXZlbnRzIl0KICBCbGluayAtLT4gSlNbIkpTIGhhbmRsZXJzPGJyLz5mcmFtZXdvcmsgc2NoZWR1bGVyIl0KICBKUyAtLT4gQmxpbmsKICBCbGluayAtLT4gQ0NbImNjIGRyYXciXQogIENDIC0tPiBWaXpbIlZpeiBwcmVzZW50Il0KICBWaXogLS0+IFNjcmVlblsic2NyZWVuIl0K"}),e[6]||(e[6]=d('<p>è¿™é‡Œæœ‰ä¸¤ä¸ªå®¹æ˜“å¿½ç•¥çš„äº‹å®ï¼š</p><ul><li>äº‹ä»¶å¯èƒ½è·¨è¿›ç¨‹ï¼šå°¤å…¶å½“ç›®æ ‡ frame åœ¨å¦ä¸€ä¸ª renderer</li><li>äº‹ä»¶å¯èƒ½è·¨çº¿ç¨‹ï¼šæ»šåŠ¨ã€åˆæˆã€raster éƒ½å¯èƒ½ä¸åœ¨ main thread ä¸Šè·‘</li></ul><h2 id="_2-hit-testing-å‘½ä¸­ä¸æ˜¯å…è´¹-å®ƒå†³å®šäº†-ä½ ç‚¹å“ªå„¿ç®—å“ªå„¿" tabindex="-1">2. Hit testingï¼šå‘½ä¸­ä¸æ˜¯å…è´¹ï¼Œå®ƒå†³å®šäº†â€œä½ ç‚¹å“ªå„¿ç®—å“ªå„¿â€ <a class="header-anchor" href="#_2-hit-testing-å‘½ä¸­ä¸æ˜¯å…è´¹-å®ƒå†³å®šäº†-ä½ ç‚¹å“ªå„¿ç®—å“ªå„¿" aria-label="Permalink to &quot;2. Hit testingï¼šå‘½ä¸­ä¸æ˜¯å…è´¹ï¼Œå®ƒå†³å®šäº†â€œä½ ç‚¹å“ªå„¿ç®—å“ªå„¿â€&quot;">â€‹</a></h2><p>å‘½ä¸­ï¼ˆhit testï¼‰è¦å›ç­”çš„é—®é¢˜å¾ˆæœ´ç´ ï¼šä¸€ä¸ªåæ ‡ç‚¹è½åœ¨è°èº«ä¸Šï¼Ÿä½†åœ¨çœŸå®ç½‘é¡µé‡Œå®ƒä¼šé‡åˆ°ï¼š</p><ul><li>transform/clip/effect/opacity å åŠ </li><li>å¤šå±‚é®æŒ¡ä¸ z-order</li><li>iframe è·¨è¿›ç¨‹</li><li>æ»šåŠ¨åç§»ä¸æ»šåŠ¨é“¾</li></ul><p>ä¸ºäº†è®©å‘½ä¸­è¶³å¤Ÿå¿«ï¼Œç³»ç»Ÿä¼šç»´æŠ¤ç”¨äºå‘½ä¸­çš„æ•°æ®ç»“æ„ï¼Œå¹¶åœ¨æŸäº›é˜¶æ®µæ›´æ–°å®ƒä»¬ã€‚å‘½ä¸­æ•°æ®æ›´æ–°çš„æ—¶æœºï¼Œå†³å®šäº†äº¤äº’å»¶è¿Ÿçš„ä¸‹é™ï¼šå¦‚æœå‘½ä¸­å¼ºä¾èµ–ä¸»çº¿ç¨‹æœ€æ–°å¸ƒå±€ï¼Œé‚£ä¸»çº¿ç¨‹ä¸€å¿™ä½ å°±ä¼šâ€œç‚¹ä¸åŠ¨â€ã€‚</p><h2 id="_3-æ»šåŠ¨-ä¸ºä»€ä¹ˆæµè§ˆå™¨å®æ„¿å¤æ‚-ä¹Ÿè¦æŠŠå®ƒä»ä¸»çº¿ç¨‹æ¬èµ°" tabindex="-1">3. æ»šåŠ¨ï¼šä¸ºä»€ä¹ˆæµè§ˆå™¨å®æ„¿å¤æ‚ï¼Œä¹Ÿè¦æŠŠå®ƒä»ä¸»çº¿ç¨‹æ¬èµ° <a class="header-anchor" href="#_3-æ»šåŠ¨-ä¸ºä»€ä¹ˆæµè§ˆå™¨å®æ„¿å¤æ‚-ä¹Ÿè¦æŠŠå®ƒä»ä¸»çº¿ç¨‹æ¬èµ°" aria-label="Permalink to &quot;3. æ»šåŠ¨ï¼šä¸ºä»€ä¹ˆæµè§ˆå™¨å®æ„¿å¤æ‚ï¼Œä¹Ÿè¦æŠŠå®ƒä»ä¸»çº¿ç¨‹æ¬èµ°&quot;">â€‹</a></h2><p>æ»šåŠ¨æœ‰ä¸¤ä¸ªç‰¹æ€§ï¼š</p><ul><li>é«˜é¢‘ï¼šè¾“å…¥è®¾å¤‡ä¼šæŒç»­äº§ç”Ÿæ»šåŠ¨å¢é‡</li><li>å¼ºåé¦ˆï¼šæ¯ä¸€å¸§éƒ½éœ€è¦è§†è§‰æ›´æ–°</li></ul><p>å› æ­¤ Chromium ä¼šå°½é‡è®©æ»šåŠ¨èµ° compositor threadï¼ˆimpl-thread scrollingï¼‰ã€‚å‰ç«¯çœ‹åˆ°çš„è¡Œä¸ºå·®å¼‚é€šå¸¸æ¥è‡ªï¼š</p><ul><li>èƒ½åœ¨åˆæˆçº¿ç¨‹å¤„ç†çš„æ»šåŠ¨ï¼šä¸»çº¿ç¨‹å¿™ä¹Ÿèƒ½æ»š</li><li>å¿…é¡»ç­‰ä¸»çº¿ç¨‹çš„æ»šåŠ¨ï¼šä¸»çº¿ç¨‹ä¸€å¿™å°±å¡ä½ï¼ˆå¸¸è§åŸå› æ˜¯æ»šåŠ¨é“¾è·¯éœ€è¦ä¸»çº¿ç¨‹ç¡®è®¤ã€æˆ–æœ‰é˜»å¡æ€§çš„äº‹ä»¶å¤„ç†ï¼‰</li></ul><h2 id="_4-inp-äº¤äº’å»¶è¿Ÿ-å‰ç«¯å£å¾„ä¸åº•å±‚æ‹†åˆ†" tabindex="-1">4. INP/äº¤äº’å»¶è¿Ÿï¼šå‰ç«¯å£å¾„ä¸åº•å±‚æ‹†åˆ† <a class="header-anchor" href="#_4-inp-äº¤äº’å»¶è¿Ÿ-å‰ç«¯å£å¾„ä¸åº•å±‚æ‹†åˆ†" aria-label="Permalink to &quot;4. INP/äº¤äº’å»¶è¿Ÿï¼šå‰ç«¯å£å¾„ä¸åº•å±‚æ‹†åˆ†&quot;">â€‹</a></h2><p>ä»å‰ç«¯åº¦é‡çœ‹ï¼Œåƒ INPï¼ˆInteraction to Next Paintï¼‰è¿™ç§æŒ‡æ ‡ï¼Œæœ¬è´¨æ˜¯åœ¨è¡¡é‡ï¼š</p><ul><li>äº‹ä»¶æ’é˜Ÿç­‰å¾…ï¼ˆmain thread/renderer å¿™å¯¼è‡´ï¼‰</li><li>äº‹ä»¶å¤„ç†è€—æ—¶ï¼ˆJS + DOM äº‹ä»¶åˆ†å‘ + æ¡†æ¶è°ƒåº¦ï¼‰</li><li>ç»“æœä¸Šå±ç­‰å¾…ï¼ˆstyle/layout/paint + composite + presentï¼‰</li></ul><p>åœ¨æ’éšœæ—¶å»ºè®®æŠŠå®ƒæ‹†æˆä¸‰æ®µï¼š</p><ol><li>è¾“å…¥åˆ° handler å¼€å§‹ï¼šæ’é˜Ÿ/è·¯ç”±å¼€é”€</li><li>handler æ‰§è¡Œï¼šJS/DOM æˆæœ¬ï¼ˆä»¥åŠæ˜¯å¦è§¦å‘å¼ºåˆ¶åŒæ­¥ï¼‰</li><li>handler ç»“æŸåˆ° next paintï¼šæ¸²æŸ“é“¾è·¯ä¸åŒæ­¥ç‚¹æˆæœ¬</li></ol><h2 id="_5-å‰ç«¯å¯æ“ä½œçš„å‡ ä¸ª-å»¶è¿Ÿæ€æ‰‹" tabindex="-1">5. å‰ç«¯å¯æ“ä½œçš„å‡ ä¸ªâ€œå»¶è¿Ÿæ€æ‰‹â€ <a class="header-anchor" href="#_5-å‰ç«¯å¯æ“ä½œçš„å‡ ä¸ª-å»¶è¿Ÿæ€æ‰‹" aria-label="Permalink to &quot;5. å‰ç«¯å¯æ“ä½œçš„å‡ ä¸ªâ€œå»¶è¿Ÿæ€æ‰‹â€&quot;">â€‹</a></h2><ul><li>é•¿ä»»åŠ¡ï¼šæŠŠä¸€æ¬¡äº¤äº’å¤„ç†æ‹†æˆå¯ä¸­æ–­çš„å°å—ï¼ˆæˆ–æ¬åˆ° workerï¼‰ï¼Œå‡å°‘ handler é˜¶æ®µé˜»å¡</li><li>å¼ºåˆ¶åŒæ­¥å¸ƒå±€ï¼šé¿å…åœ¨äº¤äº’è·¯å¾„ä¸Šè¯»å†™äº¤é”™ï¼ˆå°¤å…¶æ˜¯ pointermove/touchmoveï¼‰</li><li>æ»šåŠ¨ç›‘å¬ï¼šè°¨æ…å¯¹å¾…ä¼šé˜»å¡æ»šåŠ¨çš„ç›‘å¬é€»è¾‘ï¼Œå°½é‡è®©æ»šåŠ¨èµ° compositor</li><li>è¿‡åº¦é‡ç»˜ï¼šäº¤äº’åé¦ˆå°½é‡èµ°åˆæˆå‹å¥½è·¯å¾„ï¼Œå¦åˆ™ next paint ä¼šè¢« paint/raster åæ‰</li></ul><h2 id="å‚è€ƒ" tabindex="-1">å‚è€ƒ <a class="header-anchor" href="#å‚è€ƒ" aria-label="Permalink to &quot;å‚è€ƒ&quot;">â€‹</a></h2><ul><li>Chromium docsï¼ˆè¾“å…¥/æ¸²æŸ“ç›¸å…³å…¥å£ï¼‰<a href="https://chromium.googlesource.com/chromium/src/+/main/docs/" target="_blank" rel="noreferrer">https://chromium.googlesource.com/chromium/src/+/main/docs/</a></li><li>A Pixelï¼ˆè¾“å…¥åˆ°ä¸Šå±èŠ‚æ‹ï¼‰<a href="https://docs.google.com/presentation/d/1boPxbgNrTU0ddsc144rcXayGA_WF53k96imRH8Mp34Y/edit" target="_blank" rel="noreferrer">https://docs.google.com/presentation/d/1boPxbgNrTU0ddsc144rcXayGA_WF53k96imRH8Mp34Y/edit</a></li></ul>',20))])}const y=a(c,[["render",m]]);export{_ as __pageData,y as default};
